var Cn=Object.create,It=Object.defineProperty,Ln=Object.getPrototypeOf,Dn=Object.prototype.hasOwnProperty,Fn=Object.getOwnPropertyNames,Mn=Object.getOwnPropertyDescriptor;var re=e=>It(e,"__esModule",{value:!0});var Ge=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Je=(e,t)=>{for(var r in t)It(e,r,{get:t[r],enumerable:!0})},Hn=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Fn(t))!Dn.call(e,n)&&n!=="default"&&It(e,n,{get:()=>t[n],enumerable:!(r=Mn(t,n))||r.enumerable});return e},Rt=e=>Hn(re(It(e!=null?Cn(Ln(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Yt=Ge((ni,gt)=>{re(ni);Je(ni,{A:()=>Ee,B:()=>Te,C:()=>Gi,D:()=>na,E:()=>pa,F:()=>_t,G:()=>zi,H:()=>D,I:()=>be,J:()=>Ui,K:()=>ve,L:()=>qi,M:()=>X,N:()=>B,O:()=>de,P:()=>qt,Q:()=>Ne,R:()=>Ea,S:()=>Br,T:()=>bt,U:()=>Ft,V:()=>Tt,W:()=>Hi,X:()=>yt,Y:()=>Ta,_:()=>fi,a:()=>di,b:()=>Sa,c:()=>$,d:()=>ct,e:()=>Ie,f:()=>$t,g:()=>Ia,h:()=>he,i:()=>pe,j:()=>Lt,k:()=>Yi,l:()=>lt,m:()=>Bi,n:()=>Dr,o:()=>wr,p:()=>ea,q:()=>Lr,r:()=>Xi,s:()=>ai,t:()=>ge,u:()=>Ki,v:()=>oi,w:()=>si,x:()=>Wi,y:()=>Sr,z:()=>N});var $;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})($||($={}));var Tr;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(Tr||(Tr={}));var de;(function(e){e.BeforeSend="before_send",e.EventProcessor="event_processor",e.NetworkError="network_error",e.QueueOverflow="queue_overflow",e.RateLimitBackoff="ratelimit_backoff",e.SampleRate="sample_rate"})(de||(de={}));var m=function(){return m=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},m.apply(this,arguments)};function ii(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function at(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ii(arguments[t]));return e}function Sr(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return X(e,Error)}}function ai(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}function oi(e){return Object.prototype.toString.call(e)==="[object DOMError]"}function si(e){return Object.prototype.toString.call(e)==="[object DOMException]"}function _t(e){return Object.prototype.toString.call(e)==="[object String]"}function pe(e){return e===null||typeof e!="object"&&typeof e!="function"}function Lt(e){return Object.prototype.toString.call(e)==="[object Object]"}function wr(e){return typeof Event!="undefined"&&X(e,Event)}function Or(e){return typeof Element!="undefined"&&X(e,Element)}function ui(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function he(e){return Boolean(e&&e.then&&typeof e.then=="function")}function ci(e){return Lt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function X(e,t){try{return e instanceof t}catch(r){return!1}}function ve(e,t){try{for(var r=e,n=5,i=80,a=[],o=0,s=0,c=" > ",l=c.length,f=void 0;r&&o++<n&&(f=li(r,t),!(f==="html"||o>1&&s+a.length*l+f.length>=i));)a.push(f),s+=f.length,r=r.parentNode;return a.reverse().join(c)}catch(p){return"<unknown>"}}function li(e,t){var r,n,i=e,a=[],o,s,c,l,f;if(!i||!i.tagName)return"";a.push(i.tagName.toLowerCase());var p=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(v){return i.getAttribute(v)}).map(function(v){return[v,i.getAttribute(v)]}):null;if((n=p)===null||n===void 0?void 0:n.length)p.forEach(function(v){a.push("["+v[0]+'="'+v[1]+'"]')});else if(i.id&&a.push("#"+i.id),o=i.className,o&&_t(o))for(s=o.split(/\s+/),f=0;f<s.length;f++)a.push("."+s[f]);var h=["type","name","title","alt"];for(f=0;f<h.length;f++)c=h[f],l=i.getAttribute(c),l&&a.push("["+c+'="'+l+'"]');return a.join("")}var me=function(e,t){return me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},me(e,t)};function fi(e,t){me(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var z=function(){return z=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},z.apply(this,arguments)};function kr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function di(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Ir(){throw new Error("setTimeout has not been defined")}function Rr(){throw new Error("clearTimeout has not been defined")}var q=Ir,Y=Rr,ot;typeof window!="undefined"?ot=window:typeof self!="undefined"?ot=self:ot={};typeof ot.setTimeout=="function"&&(q=setTimeout);typeof ot.clearTimeout=="function"&&(Y=clearTimeout);function xr(e){if(q===setTimeout)return setTimeout(e,0);if((q===Ir||!q)&&setTimeout)return q=setTimeout,setTimeout(e,0);try{return q(e,0)}catch(t){try{return q.call(null,e,0)}catch(r){return q.call(this,e,0)}}}function pi(e){if(Y===clearTimeout)return clearTimeout(e);if((Y===Rr||!Y)&&clearTimeout)return Y=clearTimeout,clearTimeout(e);try{return Y(e)}catch(t){try{return Y.call(null,e)}catch(r){return Y.call(this,e)}}}var H=[],st=!1,G,Dt=-1;function hi(){!st||!G||(st=!1,G.length?H=G.concat(H):Dt=-1,H.length&&Nr())}function Nr(){if(!st){var e=xr(hi);st=!0;for(var t=H.length;t;){for(G=H,H=[];++Dt<t;)G&&G[Dt].run();Dt=-1,t=H.length}G=null,st=!1,pi(e)}}function vi(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];H.push(new Pr(e,t)),H.length===1&&!st&&xr(Nr)}function Pr(e,t){this.fun=e,this.array=t}Pr.prototype.run=function(){this.fun.apply(null,this.array)};var mi="browser",gi="browser",_i=!0,yi=[],bi="",Ei={},Ti={},Si={};function J(){}var wi=J,Oi=J,ki=J,Ii=J,Ri=J,xi=J,Ni=J;function Pi(e){throw new Error("process.binding is not supported")}function Ai(){return"/"}function ji(e){throw new Error("process.chdir is not supported")}function Ci(){return 0}var ut=ot.performance||{},Li=ut.now||ut.mozNow||ut.msNow||ut.oNow||ut.webkitNow||function(){return new Date().getTime()};function Di(e){var t=Li.call(ut)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var Fi=new Date;function Mi(){var e=new Date,t=e-Fi;return t/1e3}var Ar={nextTick:vi,title:mi,browser:_i,env:{NODE_ENV:"production"},argv:yi,version:bi,versions:Ei,on:wi,addListener:Oi,once:ki,off:Ii,removeListener:Ri,removeAllListeners:xi,emit:Ni,binding:Pi,cwd:Ai,chdir:ji,umask:Ci,hrtime:Di,platform:gi,release:Ti,config:Si,uptime:Mi};function Ft(){return Object.prototype.toString.call(typeof Ar!="undefined"?Ar:0)==="[object process]"}function yt(e,t){return e.require(t)}function Hi(e){var t;try{t=yt(gt,e)}catch(n){}try{var r=yt(gt,"process").cwd;t=yt(gt,r()+"/node_modules/"+e)}catch(n){}return t}function ge(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function Ui(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(a){r.push("[value cannot be serialized]")}}return r.join(t)}function Bi(e,t){return _t(e)?ui(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}var $i={};function N(){return Ft()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:$i}function ct(){var e=N(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var a=i.toString(16);a.length<4;)a="0"+a;return a};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}function qi(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function Yi(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function Mt(e){var t=N(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(o){o in t.console&&n[o].__sentry_original__&&(i[o]=n[o],n[o]=n[o].__sentry_original__)});var a=e();return Object.keys(i).forEach(function(o){n[o]=i[o]}),a}function Wi(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function Xi(e,t){t===void 0&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(r){e.exception.values[0].mechanism[r]=t[r]})}catch(r){}}function zi(){var e=N();try{return e.document.location.href}catch(t){return""}}var jr=60*1e3;function Gi(e,t){if(!t)return jr;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?jr:n-e}var V=N(),_e="Sentry Logger ",Ji=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Mt(function(){V.console.log(_e+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Mt(function(){V.console.warn(_e+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Mt(function(){V.console.error(_e+"[Error]: "+t.join(" "))})},e}();V.__SENTRY__=V.__SENTRY__||{};var lt=V.__SENTRY__.logger||(V.__SENTRY__.logger=new Ji),Vi=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}(),ye="<anonymous>";function be(e){try{return!e||typeof e!="function"?ye:e.name||ye}catch(t){return ye}}function D(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(a){}e[t]=i}}function Ki(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function Cr(e){if(Sr(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(wr(e)){var i=e,a={};a.type=i.type;try{a.target=Or(i.target)?ve(i.target):Object.prototype.toString.call(i.target)}catch(s){a.target="<unknown>"}try{a.currentTarget=Or(i.currentTarget)?ve(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(s){a.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&X(e,CustomEvent)&&(a.detail=i.detail);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o]);return a}return e}function Qi(e){return~-encodeURI(e).split(/%..|./).length}function Zi(e){return Qi(JSON.stringify(e))}function Lr(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=Dr(e,t);return Zi(n)>r?Lr(e,t-1,r):n}function ta(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=Fr(e);return pe(r)?r:t}function Fr(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":ci(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+be(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}function Mr(e,t,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new Vi),r===0)return ta(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=Fr(t,e);if(pe(i))return i;var a=Cr(t),o=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var s in a)!Object.prototype.hasOwnProperty.call(a,s)||(o[s]=Mr(s,a[s],r-1,n));return n.unmemoize(t),o}function Dr(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return Mr(r,n,t)}))}catch(r){return"**non-serializable**"}}function ea(e,t){t===void 0&&(t=40);var r=Object.keys(Cr(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return ge(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:ge(i,t)}return""}function bt(e){var t,r;if(Lt(e)){var n=e,i={};try{for(var a=kr(Object.keys(n)),o=a.next();!o.done;o=a.next()){var s=o.value;typeof n[s]!="undefined"&&(i[s]=bt(n[s]))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(bt):e}function Ee(){if(!("fetch"in N()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Te(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ra(){if(!Ee())return!1;var e=N();if(Te(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Te(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){lt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function na(){if(!Ee())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function ia(){var e=N(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var T=N(),Et={},Hr={};function da(e){if(!Hr[e])switch(Hr[e]=!0,e){case"console":aa();break;case"dom":ca();break;case"xhr":sa();break;case"fetch":oa();break;case"history":ua();break;case"error":la();break;case"unhandledrejection":fa();break;default:lt.warn("unknown instrumentation type:",e)}}function pa(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(Et[e.type]=Et[e.type]||[],Et[e.type].push(e.callback),da(e.type))}function C(e,t){var r,n;if(!(!e||!Et[e]))try{for(var i=kr(Et[e]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(t)}catch(s){lt.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+be(o)+`
Error: `+s)}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function aa(){"console"in T&&["debug","info","warn","error","log","assert"].forEach(function(e){e in T.console&&D(T.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];C("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,T.console,r)}})})}function oa(){!ra()||D(T,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:ha(t),url:va(t)},startTimestamp:Date.now()};return C("fetch",z({},n)),e.apply(T,t).then(function(i){return C("fetch",z(z({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw C("fetch",z(z({},n),{endTimestamp:Date.now(),error:i})),i})}})}function ha(e){return e===void 0&&(e=[]),"Request"in T&&X(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function va(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in T&&X(e[0],Request)?e[0].url:String(e[0])}function sa(){if("XMLHttpRequest"in T){var e=[],t=[],r=XMLHttpRequest.prototype;D(r,"open",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this,s=i[1];o.__sentry_xhr__={method:_t(i[0])?i[0].toUpperCase():i[0],url:i[1]},_t(s)&&o.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var c=function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(p){}try{var l=e.indexOf(o);if(l!==-1){e.splice(l);var f=t.splice(l)[0];o.__sentry_xhr__&&f[0]!==void 0&&(o.__sentry_xhr__.body=f[0])}}catch(p){}C("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?D(o,"onreadystatechange",function(l){return function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return c(),l.apply(o,f)}}):o.addEventListener("readystatechange",c),n.apply(o,i)}}),D(r,"send",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.push(this),t.push(i),C("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var Ht;function ua(){if(!ia())return;var e=T.onpopstate;T.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=T.location.href,a=Ht;if(Ht=i,C("history",{from:a,to:i}),e)try{return e.apply(this,r)}catch(o){}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=Ht,s=String(a);Ht=s,C("history",{from:o,to:s})}return r.apply(this,n)}}D(T.history,"pushState",t),D(T.history,"replaceState",t)}var ma=1e3,Ut,Bt;function ga(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}function _a(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch(r){}return!0}function Ur(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||Bt===r)&&!_a(r)){var n=r.type==="keypress"?"input":r.type;Ut===void 0?(e({event:r,name:n,global:t}),Bt=r):ga(Bt,r)&&(e({event:r,name:n,global:t}),Bt=r),clearTimeout(Ut),Ut=T.setTimeout(function(){Ut=void 0},ma)}}}function ca(){if("document"in T){var e=C.bind(null,"dom"),t=Ur(e,!0);T.document.addEventListener("click",t,!1),T.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=T[r]&&T[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(D(n,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[a]=l[a]||{refCount:0};if(!f.handler){var p=Ur(e);f.handler=p,i.call(this,a,p,s)}f.refCount+=1}catch(h){}return i.call(this,a,o,s)}}),D(n,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[a];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,a,f.handler,s),f.handler=void 0,delete l[a]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(p){}return i.call(this,a,o,s)}}))})}}var Se=null;function la(){Se=T.onerror,T.onerror=function(e,t,r,n,i){return C("error",{column:n,error:i,line:r,msg:e,url:t}),Se?Se.apply(this,arguments):!1}}var we=null;function fa(){we=T.onunhandledrejection,T.onunhandledrejection=function(e){return C("unhandledrejection",e),we?we.apply(this,arguments):!0}}var U;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})(U||(U={}));var Br=function(){function e(t){var r=this;this._state=U.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(U.RESOLVED,n)},this._reject=function(n){r._setResult(U.REJECTED,n)},this._setResult=function(n,i){if(r._state===U.PENDING){if(he(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==U.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===U.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===U.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,a=[];t.forEach(function(o,s){e.resolve(o).then(function(c){a[s]=c,i-=1,i===0&&r(a)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,a){n._attachHandler({done:!1,onfulfilled:function(o){if(!t){i(o);return}try{i(t(o));return}catch(s){a(s);return}},onrejected:function(o){if(!r){a(o);return}try{i(r(o));return}catch(s){a(s);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var a,o;return r.then(function(s){o=!1,a=s,t&&t()},function(s){o=!0,a=s,t&&t()}).then(function(){if(o){i(a);return}n(a)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),Oe={nowSeconds:function(){return Date.now()/1e3}};function ya(){var e=N().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function ba(){try{var e=yt(gt,"perf_hooks");return e.performance}catch(t){return}}var ke=Ft()?ba():ya(),$r=ke===void 0?Oe:{nowSeconds:function(){return(ke.timeOrigin+ke.now())/1e3}},Ie=Oe.nowSeconds.bind(Oe),Re=$r.nowSeconds.bind($r),Ea=Re,Ta=function(){var e=N().performance;if(!(!e||!e.now)){var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,a=i<t,o=e.timing&&e.timing.navigationStart,s=typeof o=="number",c=s?Math.abs(o+r-n):t,l=c<t;return a||l?i<=c?e.timeOrigin:o:n}}(),qr=100,$t=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=at(t._breadcrumbs),r._tags=m({},t._tags),r._extra=m({},t._extra),r._contexts=m({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=at(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=m(m({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=m(m({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=m(m({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=m(m({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=m(m({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,a=this.getSpan();if((t=a)===null||t===void 0?void 0:t.transaction)return(r=a)===null||r===void 0?void 0:r.transaction;if((i=(n=a)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return a.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=m(m({},this._tags),t._tags),this._extra=m(m({},this._extra),t._extra),this._contexts=m(m({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Lt(t)&&(t=t,this._tags=m(m({},this._tags),t.tags),this._extra=m(m({},this._extra),t.extra),this._contexts=m(m({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,qr):qr;if(n<=0)return this;var i=m({timestamp:Ie()},t);return this._breadcrumbs=at(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=m(m({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=m(m({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=m(m({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=m(m({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=m({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=m({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=at(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(at(Yr(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var a=this;return i===void 0&&(i=0),new Br(function(o,s){var c=t[i];if(r===null||typeof c!="function")o(r);else{var l=c(m({},r),n);he(l)?l.then(function(f){return a._notifyEventProcessors(t,f,n,i+1).then(o)}).then(null,s):a._notifyEventProcessors(t,l,n,i+1).then(o).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function Yr(){var e=N();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function Sa(e){Yr().push(e)}var wa=function(){function e(t){this.errors=0,this.sid=ct(),this.duration=0,this.status=$.Ok,this.init=!0,this.ignoreDuration=!1;var r=Re();this.timestamp=r,this.started=r,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Re(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:ct()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===$.Ok?this.update({status:$.Exited}):this.update()},e.prototype.toJSON=function(){return bt({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:bt({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),xe=4,Oa=100,qt=function(){function e(t,r,n){r===void 0&&(r=new $t),n===void 0&&(n=xe),this._version=n,this._stack=[{}],this.getStackTop().scope=r,t&&this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=$t.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=ct(),i=r;if(!r){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,m(m({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=ct(),a=n;if(!n){var o=void 0;try{throw new Error(t)}catch(s){o=s}a={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,r,m(m({},a),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=ct();return t.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",t,m(m({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,a=n.client;if(!(!i||!a)){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,c=s===void 0?null:s,l=o.maxBreadcrumbs,f=l===void 0?Oa:l;if(!(f<=0)){var p=Ie(),h=m({timestamp:p},t),v=c?Mt(function(){return c(h,r)}):h;v!==null&&i.addBreadcrumb(v,f)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=Ne(this);try{t(this)}finally{Ne(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return lt.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,a;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(a=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||a===void 0||a.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,c=N(),l=(c.navigator||{}).userAgent,f=new wa(m(m(m({release:o,environment:s},n&&{user:n.getUser()}),l&&{userAgent:l}),t));if(n){var p=n.getSession&&n.getSession();p&&p.status===$.Ok&&p.update({status:$.Exited}),this.endSession(),n.setSession(f)}return f},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[t]&&(r=s)[t].apply(r,at(n,[o]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Tt(),a=i.__SENTRY__;if(a&&a.extensions&&typeof a.extensions[t]=="function")return a.extensions[t].apply(this,r);lt.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function Tt(){var e=N();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Ne(e){var t=Tt(),r=B(t);return Pe(t,e),r}function Ia(){var e=Tt();return(!Wr(e)||B(e).isOlderThan(xe))&&Pe(e,new qt),Ft()?ka(e):B(e)}function ka(e){var t,r,n;try{var i=(n=(r=(t=Tt().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return B(e);if(!Wr(i)||B(i).isOlderThan(xe)){var a=B(e).getStackTop();Pe(i,new qt(a.client,$t.clone(a.scope)))}return B(i)}catch(o){return B(e)}}function Wr(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function B(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new qt),e.__SENTRY__.hub}function Pe(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}});var Pn=Ge((So,Ot)=>{re(So);Je(So,{Integrations:()=>Es});var d=Rt(Yt()),vt;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(vt||(vt={}));var Be=function(e,t){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Be(e,t)};function $e(e,t){Be(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _=function(){return _=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_.apply(this,arguments)};function wo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Oo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tn(arguments[t]));return e}var R;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(R||(R={}));(function(e){function t(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}e.fromHttpCode=t})(R||(R={}));var ko=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function qe(e){e===void 0&&(e=(t=(0,d.g)().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}function Io(e){var t=e.match(ko);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}function Jt(e){e===void 0&&(e=(0,d.g)());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}function w(e){return e/1e3}function Ro(e){return e*1e3}function xo(){(0,d.E)({callback:Sn,type:"error"}),(0,d.E)({callback:Sn,type:"unhandledrejection"})}function Sn(){var e=Jt();e&&(d.l.log("[Tracing] Transaction: "+R.InternalError+" -> Global error occured"),e.setStatus(R.InternalError))}var wn=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}(),No=function(){function e(t){if(this.traceId=(0,d.d)(),this.spanId=(0,d.d)().substring(16),this.startTimestamp=(0,d.R)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(_(_({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=_(_({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=_(_({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=R.fromHttpCode(t);return r!==R.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===R.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:(0,d.R)()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return(0,d.T)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,a,o;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(a=t.tags,a!=null?a:{}),this.traceId=(o=t.traceId,o!=null?o:this.traceId),this},e.prototype.getTraceContext=function(){return(0,d.T)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,d.T)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}(),On=function(e){$e(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=(0,d.g)(),(0,d.M)(n,d.P)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new wn(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=_({},r)},t.prototype.setMetadata=function(r){this.metadata=_(_({},this.metadata),r)},t.prototype.finish=function(r){var n=this,i,a,o,s,c;if(this.endTimestamp===void 0){if(this.name||(d.l.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){d.l.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),(c=(o=(i=this._hub.getClient())===null||i===void 0?void 0:(a=i).getTransport)===null||o===void 0?void 0:(s=o.call(a)).recordLostEvent)===null||c===void 0||c.call(s,d.O.SampleRate,"transaction");return}var l=this.spanRecorder?this.spanRecorder.spans.filter(function(h){return h!==n&&h.endTimestamp}):[];this._trimEnd&&l.length>0&&(this.endTimestamp=l.reduce(function(h,v){return h.endTimestamp&&v.endTimestamp?h.endTimestamp>v.endTimestamp?h:v:h}).endTimestamp);var f={contexts:{trace:this.getTraceContext()},spans:l,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},p=Object.keys(this._measurements).length>0;return p&&(d.l.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),f.measurements=this._measurements),d.l.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(f)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return(0,d.T)(_(_({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(No),kn=1e3,Po=5e3,Ao=function(e){$e(t,e);function t(r,n,i,a){i===void 0&&(i="");var o=e.call(this,a)||this;return o._pushActivity=r,o._popActivity=n,o.transactionSpanId=i,o}return t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:(0,d.R)(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(wn),jo=function(e){$e(t,e);function t(r,n,i,a){i===void 0&&(i=kn),a===void 0&&(a=!1);var o=e.call(this,r,n)||this;return o._idleHub=n,o._idleTimeout=i,o._onScope=a,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&a&&(In(n),d.l.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope(function(s){return s.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return t.prototype.finish=function(r){var n,i,a=this;if(r===void 0&&(r=(0,d.R)()),this._finished=!0,this.activities={},this.spanRecorder){d.l.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var o=Oo(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){var c=s.value;c(this,r)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===a.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(R.Cancelled),d.l.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||d.l.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),d.l.log("[Tracing] flushing IdleTransaction")}else d.l.log("[Tracing] No active IdleTransaction");return this._onScope&&In(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=function(o){n._finished||n._pushActivity(o)},a=function(o){n._finished||n._popActivity(o)};this.spanRecorder=new Ao(i,a,this.spanId,r),d.l.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),d.l.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,d.l.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(d.l.log("[Tracing] popActivity "+r),delete this.activities[r],d.l.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,a=(0,d.R)()+i/1e3;setTimeout(function(){n._finished||n.finish(a)},i)}},t.prototype._beat=function(){if(!this._finished){var r=Object.keys(this.activities).join("");r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(d.l.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(R.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;d.l.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout(function(){r._beat()},Po)},t}(On);function In(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}function Co(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function Rn(e,t,r){if(!qe(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:vt.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:vt.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:vt.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:vt.Rate,rate:Number(n)}})),Lo(n)?n?(e.sampled=Math.random()<n,e.sampled?(d.l.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(d.l.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(d.l.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(d.l.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Lo(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(d.l.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(d.l.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}function Do(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},a=new On(e,this);return a=Rn(a,i,_({parentSampled:e.parentSampled,transactionContext:e},t)),a.sampled&&a.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),a}function Fo(e,t,r,n,i){var a,o,s=((a=e.getClient())===null||a===void 0?void 0:a.getOptions())||{},c=new jo(t,e,r,n);return c=Rn(c,s,_({parentSampled:t.parentSampled,transactionContext:t},i)),c.sampled&&c.initSpanRecorder((o=s._experiments)===null||o===void 0?void 0:o.maxSpans),c}function Mo(){var e=(0,d.V)();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Do),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Co))}function Ho(){var e=(0,d.V)();if(!!e.__SENTRY__){var t={mongodb:function(){var n=(0,d.X)(Ot,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=(0,d.X)(Ot,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=(0,d.X)(Ot,"./integrations/mysql");return new n.Mysql},pg:function(){var n=(0,d.X)(Ot,"./integrations/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!(0,d.W)(n)}).map(function(n){try{return t[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=Z(e.__SENTRY__.integrations||[],r))}}function Uo(){Mo(),(0,d.U)()&&Ho(),xo()}var Vt=(0,d.z)();function Bo(){Vt&&Vt.document?Vt.document.addEventListener("visibilitychange",function(){var e=Jt();Vt.document.hidden&&e&&(d.l.log("[Tracing] Transaction: "+R.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(R.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):d.l.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Ye=function(e,t,r){var n;return function(i){t.value>=0&&(i||r)&&(t.delta=t.value-(n||0),(t.delta||n===void 0)&&(n=t.value,e(t)))}},$o=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},We=function(e,t){return{name:e,value:t!=null?t:-1,delta:0,entries:[],id:$o()}},Xe=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(e==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch(n){}},Kt=function(e,t){var r=function(n){(n.type==="pagehide"||(0,d.z)().document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},qo=function(e,t){var r=We("CLS",0),n,i=0,a=[],o=function(c){if(c&&!c.hadRecentInput){var l=a[0],f=a[a.length-1];i&&a.length!==0&&c.startTime-f.startTime<1e3&&c.startTime-l.startTime<5e3?(i+=c.value,a.push(c)):(i=c.value,a=[c]),i>r.value&&(r.value=i,r.entries=a,n&&n())}},s=Xe("layout-shift",o);s&&(n=Ye(e,r,t),Kt(function(){s.takeRecords().map(o),n(!0)}))},Qt=-1,Yo=function(){return(0,d.z)().document.visibilityState==="hidden"?0:Infinity},Wo=function(){Kt(function(e){var t=e.timeStamp;Qt=t},!0)},ze=function(){return Qt<0&&(Qt=Yo(),Wo()),{get firstHiddenTime(){return Qt}}},Xo=function(e,t){var r=ze(),n=We("FID"),i,a=function(s){i&&s.startTime<r.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),i(!0))},o=Xe("first-input",a);o&&(i=Ye(e,n,t),Kt(function(){o.takeRecords().map(a),o.disconnect()},!0))},xn={},zo=function(e,t){var r=ze(),n=We("LCP"),i,a=function(c){var l=c.startTime;l<r.firstHiddenTime&&(n.value=l,n.entries.push(c)),i&&i()},o=Xe("largest-contentful-paint",a);if(o){i=Ye(e,n,t);var s=function(){xn[n.id]||(o.takeRecords().map(a),o.disconnect(),xn[n.id]=!0,i(!0))};["keydown","click"].forEach(function(c){addEventListener(c,s,{once:!0,capture:!0})}),Kt(s,!0)}},x=(0,d.z)(),Go={_reportAllChanges:!1},Qo=function(){function e(t){var r,n;this._measurements={},this._performanceCursor=0,!(0,d.U)()&&((r=x)===null||r===void 0?void 0:r.performance)&&((n=x)===null||n===void 0?void 0:n.document)&&(x.performance.mark&&x.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(t._reportAllChanges),this._trackFID())}return e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!x||!x.performance||!x.performance.getEntries||!d.Y)){d.l.log("[Tracing] Adding & adjusting spans using Performance API");var n=w(d.Y),i;if(x.document&&x.document.scripts){for(var a=0;a<x.document.scripts.length;a++)if(x.document.scripts[a].dataset.entry==="true"){i=x.document.scripts[a].src;break}}var o,s,c,l;if(x.performance.getEntries().slice(this._performanceCursor).forEach(function(p){var h=w(p.startTime),v=w(p.duration);if(!(t.op==="navigation"&&n+h<t.startTimestamp))switch(p.entryType){case"navigation":{Jo(t,p,n),c=n+w(p.responseStart),l=n+w(p.requestStart);break}case"mark":case"paint":case"measure":{var g=Vo(t,p,h,v,n);s===void 0&&p.name==="sentry-tracing-init"&&(s=g);var y=ze(),E=p.startTime<y.firstHiddenTime;p.name==="first-paint"&&E&&(d.l.log("[Measurements] Adding FP"),r._measurements.fp={value:p.startTime},r._measurements["mark.fp"]={value:g}),p.name==="first-contentful-paint"&&E&&(d.l.log("[Measurements] Adding FCP"),r._measurements.fcp={value:p.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var A=p.name.replace(x.location.origin,""),O=Ko(t,p,A,h,v,n);o===void 0&&(i||"").indexOf(A)>-1&&(o=O);break}}}),o!==void 0&&s!==void 0&&tt(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var f=w(d.Y);typeof c=="number"&&(d.l.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-t.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(p){if(!(!r._measurements[p]||f>=t.startTimestamp)){var h=r._measurements[p].value,v=f+w(h),g=Math.abs((v-t.startTimestamp)*1e3),y=g-h;d.l.log("[Measurements] Normalized "+p+" from "+h+" to "+g+" ("+y+")"),r._measurements[p].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&tt(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+w(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(d.l.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",(0,d.K)(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(d.l.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(r,n){return t.setTag("cls.source."+(n+1),(0,d.K)(r.node))}))},e.prototype._trackCLS=function(){var t=this;qo(function(r){var n=r.entries.pop();!n||(d.l.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=x.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Zt(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Zt(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Zt(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),Zt(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(t){var r=this;zo(function(n){var i=n.entries.pop();if(!!i){var a=w(d.Y),o=w(i.startTime);d.l.log("[Measurements] Adding LCP"),r._measurements.lcp={value:n.value},r._measurements["mark.lcp"]={value:a+o},r._lcpEntry=i}},t)},e.prototype._trackFID=function(){var t=this;Xo(function(r){var n=r.entries.pop();if(!!n){var i=w(d.Y),a=w(n.startTime);d.l.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+a}}})},e}();function Jo(e,t,r){W({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),W({transaction:e,entry:t,event:"redirect",timeOrigin:r}),W({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),W({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),W({transaction:e,entry:t,event:"connect",timeOrigin:r}),W({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),W({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),W({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),Zo(e,t,r)}function Vo(e,t,r,n,i){var a=i+r,o=a+n;return tt(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}function Ko(e,t,r,n,i,a){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+n,c=s+i;return tt(e,{description:r,endTimestamp:c,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:o}),c}}function W(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,a=e.eventEnd,o=e.description,s=a?r[a]:r[n+"End"],c=r[n+"Start"];!c||!s||tt(t,{op:"browser",description:o!=null?o:n,startTimestamp:i+w(c),endTimestamp:i+w(s)})}function Zo(e,t,r){tt(e,{op:"browser",description:"request",startTimestamp:r+w(t.requestStart),endTimestamp:r+w(t.responseEnd)}),tt(e,{op:"browser",description:"response",startTimestamp:r+w(t.responseStart),endTimestamp:r+w(t.responseEnd)})}function tt(e,t){var r=t.startTimestamp,n=wo(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(_({startTimestamp:r},n))}function Zt(e){return typeof e=="number"&&isFinite(e)}var ts=["localhost",/^\//],te={traceFetch:!0,traceXHR:!0,tracingOrigins:ts};function ns(e){var t=_(_({},te),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,a=t.shouldCreateSpanForRequest,o={},s=function(f){if(o[f])return o[f];var p=i;return o[f]=p.some(function(h){return(0,d.m)(f,h)})&&!(0,d.m)(f,"sentry_key"),o[f]},c=s;typeof a=="function"&&(c=function(f){return s(f)&&a(f)});var l={};r&&(0,d.E)({callback:function(f){es(f,c,l)},type:"fetch"}),n&&(0,d.E)({callback:function(f){rs(f,c,l)},type:"xhr"})}function es(e,t,r){if(!(!qe()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(R.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=Jt();if(i){var n=i.startChild({data:_(_({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var a=e.args[0]=e.args[0],o=e.args[1]=e.args[1]||{},s=o.headers;(0,d.M)(a,Request)&&(s=a.headers),s?typeof s.append=="function"?s.append("sentry-trace",n.toTraceparent()):Array.isArray(s)?s=Z(s,[["sentry-trace",n.toTraceparent()]]):s=_(_({},s),{"sentry-trace":n.toTraceparent()}):s={"sentry-trace":n.toTraceparent()},o.headers=s}}}function rs(e,t,r){var n,i;if(!(!qe()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var a=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var o=r[e.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(a.status_code),o.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var s=Jt();if(s){var o=s.startChild({data:_(_({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=o.spanId,r[e.xhr.__sentry_xhr_span_id__]=o,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(l){}}}}var kt=(0,d.z)();function is(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!kt||!kt.location){d.l.warn("Could not initialize routing instrumentation due to invalid location");return}var n=kt.location.href,i;t&&(i=e({name:kt.location.pathname,op:"pageload"})),r&&(0,d.E)({callback:function(a){var o=a.to,s=a.from;if(s===void 0&&n&&n.indexOf(o)!==-1){n=void 0;return}s!==o&&(n=void 0,i&&(d.l.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:kt.location.pathname,op:"navigation"}))},type:"history"})}var as=600,os=_({idleTimeout:kn,markBackgroundTransactions:!0,maxTransactionDuration:as,routingInstrumentation:is,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},te),cs=function(){function e(t){this.name=e.id,this._emitOptionsWarning=!1;var r=te.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=_(_(_({},os),t),{tracingOrigins:r}),this._metrics=new Qo(_(_({},Go),this.options._metricOptions))}return e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(d.l.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),d.l.warn("[Tracing] We added a reasonable default for you: "+te.tracingOrigins));var i=this.options,a=i.routingInstrumentation,o=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,p=i.tracingOrigins,h=i.shouldCreateSpanForRequest;a(function(v){return n._createRouteTransaction(v)},s,o),c&&Bo(),ns({traceFetch:l,traceXHR:f,tracingOrigins:p,shouldCreateSpanForRequest:h})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){d.l.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,a=n.idleTimeout,o=n.maxTransactionDuration,s=t.op==="pageload"?ss():void 0,c=_(_(_({},t),s),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?_(_({},c),{sampled:!1}):l;f.sampled===!1&&d.l.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),d.l.log("[Tracing] Starting "+f.op+" transaction on scope");var p=this._getCurrentHub(),h=(0,d.z)().location,v=Fo(p,f,a,!0,{location:h});return v.registerBeforeFinishCallback(function(g,y){r._metrics.addPerformanceEntries(g),us(Ro(o),g,y)}),v},e.id="BrowserTracing",e}();function ss(){var e=ls("sentry-trace");if(e)return Io(e)}function ls(e){var t=(0,d.z)().document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}function us(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(R.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}var ds=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){if(!this._router){d.l.error("ExpressIntegration is missing an Express instance");return}fs(this._router,this._methods)},e.id="Express",e}();function Nn(e,t){var r=e.length;switch(r){case 2:return function(n,i){var a=i.__sentry_transaction;if(a){var o=a.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){o.finish()})}return e.call(this,n,i)};case 3:return function(n,i,a){var o,s=i.__sentry_transaction,c=(o=s)===null||o===void 0?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var p;(p=c)===null||p===void 0||p.finish(),a.call.apply(a,Z([this],l))})};case 4:return function(n,i,a,o){var s,c=a.__sentry_transaction,l=(s=c)===null||s===void 0?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,a,function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var h;(h=l)===null||h===void 0||h.finish(),o.call.apply(o,Z([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}function ps(e,t){return e.map(function(r){return typeof r=="function"?Nn(r,t):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Nn(n,t):n}):r})}function hs(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,Z([this],ps(n,t)))},e}function fs(e,t){t===void 0&&(t=[]),t.forEach(function(r){return hs(e,r)})}var vs=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._usePgNative=!!t.usePgNative}return e.prototype.setupOnce=function(t,r){var n,i=(0,d.W)("pg");if(!i){d.l.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!((n=i.native)===null||n===void 0?void 0:n.Client)){d.l.error("Postgres Integration was unable to access 'pg-native' bindings.");return}var a=(this._usePgNative?i.native:i).Client;(0,d.H)(a.prototype,"query",function(o){return function(s,c,l){var f,p,h,v=r().getScope(),g=(f=v)===null||f===void 0?void 0:f.getSpan(),y=(p=g)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof l=="function")return o.call(this,s,c,function(A,O){var P;(P=y)===null||P===void 0||P.finish(),l(A,O)});if(typeof c=="function")return o.call(this,s,function(A,O){var P;(P=y)===null||P===void 0||P.finish(),c(A,O)});var E=typeof c!="undefined"?o.call(this,s,c):o.call(this,s);return(0,d.h)(E)?E.then(function(A){var O;return(O=y)===null||O===void 0||O.finish(),A}):((h=y)===null||h===void 0||h.finish(),E)}})},e.id="Postgres",e}(),ms=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){var n=(0,d.W)("mysql/lib/Connection.js");if(!n){d.l.error("Mysql Integration was unable to require `mysql` package.");return}(0,d.H)(n,"createQuery",function(i){return function(a,o,s){var c,l,f=r().getScope(),p=(c=f)===null||c===void 0?void 0:c.getSpan(),h=(l=p)===null||l===void 0?void 0:l.startChild({description:typeof a=="string"?a:a.sql,op:"db"});return typeof s=="function"?i.call(this,a,o,function(v,g,y){var E;(E=h)===null||E===void 0||E.finish(),s(v,g,y)}):typeof o=="function"?i.call(this,a,function(v,g,y){var E;(E=h)===null||E===void 0||E.finish(),o(v,g,y)}):i.call(this,a,o,s)}})},e.id="Mysql",e}(),gs=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],_s={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},ys=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:gs,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(t,r){var n=this._useMongoose?"mongoose":"mongodb",i=(0,d.W)(n);if(!i){d.l.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},e.prototype._instrumentOperations=function(t,r,n){var i=this;r.forEach(function(a){return i._patchOperation(t,a,n)})},e.prototype._patchOperation=function(t,r,n){if(r in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,d.H)(t.prototype,r,function(a){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c,l,f,p,h=o[o.length-1],v=n().getScope(),g=(c=v)===null||c===void 0?void 0:c.getSpan();if(typeof h!="function"||r==="mapReduce"&&o.length===2){var y=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,o)),E=a.call.apply(a,Z([this],o));return(0,d.h)(E)?E.then(function(O){var P;return(P=y)===null||P===void 0||P.finish(),O}):((f=y)===null||f===void 0||f.finish(),E)}var A=(p=g)===null||p===void 0?void 0:p.startChild(i(this,r,o.slice(0,-1)));return a.call.apply(a,Z([this],o.slice(0,-1),[function(O,P){var ee;(ee=A)===null||ee===void 0||ee.finish(),h(O,P)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,r,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},a={op:"db",description:r,data:i},o=_s[r],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!o||!s)return a;try{if(r==="mapReduce"){var c=Tn(n,2),l=c[0],f=c[1];i[o[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[o[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var p=0;p<o.length;p++)i[o[p]]=JSON.stringify(n[p])}catch(h){}return a},e.id="Mongo",e}(),bs=Object.freeze({__proto__:null,Express:ds,Postgres:vs,Mysql:ms,Mongo:ys}),Es=_(_({},bs),{BrowserTracing:cs});Uo()});import{html as Ts,render as An}from"https://cdn.skypack.dev/uhtml/async";import{html as ie}from"https://cdn.skypack.dev/uhtml/async";function xt(e,t,r=!1){var n;return function(){var i=this,a=arguments,o=function(){n=null,r||e.apply(i,a)},s=r&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(i,a)}}function Un(e){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return t}function Bn(e){var t=(e&16777215).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}var Ve=e=>Bn(Un(e));import{html as Qe}from"https://cdn.skypack.dev/uhtml/async";import $n from"https://cdn.skypack.dev/@jacobmarshall/kv";var Ke=e=>`https://images.weserv.nl/?url=${encodeURI(e)}&w=100&h=100&fit=cover&a=attention`;var ne=$n("thumbnailAlternative"),Nt=async(e,t)=>{var o,s;let r=t==null?void 0:t.replace(/[^A-Z]/g,"").split("").map(c=>c.substr(0,1)),n=await ne.get(t);n===void 0&&(n=e);let i=()=>Qe`<div class="image-alternative" style=${`--color: #${Ve(t)}`}>
            <span>${r.join("")}</span>
        </div>`;if(n===void 0){let c=`https://en.wikipedia.org/w/api.php?action=query&origin=*&titles=${t}&prop=pageimages&format=json&pithumbsize=400`,f=await(await fetch(c,{method:"GET"})).json(),[p]=Object.keys(f.query.pages);n=(s=(o=f.query.pages[p].thumbnail)==null?void 0:o.source)!=null?s:!1,await ne.set(t,n)}let a=async c=>{I(),await ne.set(t,!1)};return n===!1?i():Qe`<img onerror=${[a,{once:!0}]} class="image" src=${Ke(n)} />`};var Ze=e=>e.split(/\/|#/).pop();var qn=async e=>{if(e.target.value.length<4)return;let t=`
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX dbo:  <http://dbpedia.org/ontology/>
        PREFIX bif: <bif:>
        PREFIX foaf: <http://xmlns.com/foaf/0.1/>
    
        SELECT DISTINCT ?uri ?label ?image {
            ?uri rdfs:label ?label .
            ?uri a <http://xmlns.com/foaf/0.1/Person> .
            ?uri dbo:thumbnail ?image .
            ?label bif:contains '"${e.target.value}"' .
            filter langMatches(lang(?label), "en")
        }
    
        LIMIT 10        
    `,r=`https://dbpedia.org/sparql?query=${encodeURIComponent(t)}&format=json`,i=await(await fetch(r,{method:"GET",headers:{Accept:"application/sparql-results+json"}})).json();tr(i.results.bindings.map(a=>({label:a.label.value,image:a.image.value,id:Ze(a.uri.value)}))),I()},ae=[],tr=e=>{ae=e},er=()=>ie`
        <form class="search-form" onsubmit=${e=>e.preventDefault()}>
            <label>Search for a philosopher or an influential thinker</label>
            <input onkeyup=${xt(qn,500)} type="search" class="search-input">

            ${ae.map(e=>ie`
                <a class="suggestion" href=${`/${e.id}`} onclick=${()=>tr([])}>
                    ${Nt(e.image,e.label)}
                    <h3 class="title">${e.label}</h3>
                </div>
            `)}

            ${ae.length?null:ie`
            <div class="hint">
            You can try <a href="/Søren_Kierkegaard">Søren Kierkegaard</a> or <a href="/Plato">Plato</a>
            </div>
            `}

        </form>
    `;function rr(e,t,r={leading:!0,trailing:!0}){var n,i,a,o=null,s=0,c=function(){s=r.leading===!1?0:Date.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var l=Date.now();!s&&r.leading===!1&&(s=l);var f=t-(l-s);return n=this,i=arguments,f<=0||f>t?(o&&(clearTimeout(o),o=null),s=l,a=e.apply(n,i),o||(n=i=null)):!o&&r.trailing!==!1&&(o=setTimeout(c,f)),a}}var Pt=()=>decodeURI(location.pathname).substr(1).split(",").filter(Boolean);import{html as j}from"https://cdn.skypack.dev/uhtml/async";var Yn=e=>e==="person"?"dbo:influenced|^dbo:influencedBy":"dbo:influencedBy|^dbo:influenced",Wn=(e,t)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT (REPLACE(STR(?person), "http://dbpedia.org/resource/", "") as ?id) ?label ?image ?abstract ?birth ?death
    WHERE {
        <http://dbpedia.org/resource/${e}> rdfs:label ?label .

        BIND (<http://dbpedia.org/resource/${e}> as ?person)
   

        OPTIONAL { <http://dbpedia.org/resource/${e}> dbo:abstract  ?abstract }

        OPTIONAL {?person dbo:activeYearsStartYear ?activeYearsStartYear}
        OPTIONAL {?person dbp:activeYearsStartYear ?activeYearsStartYearProperty}

        OPTIONAL {?person dbo:birthYear ?birthYear}
        OPTIONAL {?person dbo:deathYear ?deathYear}

        OPTIONAL {?person dbo:birthDate ?birthDate}
        OPTIONAL {?person dbo:deathDate ?deathDate}

        BIND (COALESCE(?deathDate, ?deathYear) as ?death)
        BIND (COALESCE(?birthDate, ?birthYear, ?activeYearsStartYear, ?activeYearsStartYearProperty) as ?birth)

        OPTIONAL {<http://dbpedia.org/resource/${e}> foaf:depiction ?image }
        FILTER (lang(?label) = '${t}')
        FILTER (lang(?abstract) = '${t}')
    }
`,nr=(e,t,r)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT ?abstract ?label ?image (REPLACE(STR(?item), "http://dbpedia.org/resource/", "") as ?id)
    WHERE {
        <http://dbpedia.org/resource/${e}> ${r} ?item .
        ?item dbo:abstract ?abstract .
        ?item rdfs:label ?label .

        OPTIONAL {?item foaf:depiction ?image}
        FILTER (lang(?label) = '${t}')
        FILTER (lang(?abstract) = '${t}')
    }
    ORDER BY ASC(?date)
`,Xn=(e,t)=>nr(e,t,"dbo:mainInterest"),zn=(e,t)=>nr(e,t,"dbo:notableIdea"),Gn=(e,t)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT ?abstract ?label ?pages ?date ?image (REPLACE(STR(?work), "http://dbpedia.org/resource/", "") as ?id)
    WHERE {
        ?work dbo:author <http://dbpedia.org/resource/${e}> .
        ?work dbo:abstract ?abstract .
        ?work dbp:name ?label .

        OPTIONAL {?work dbo:numberOfPages ?pages}
        
        OPTIONAL {?work dbo:releaseDate ?releaseDate}
        OPTIONAL {?work dbp:releaseDate ?releaseDateProperty}
        BIND (COALESCE(?releaseDate, ?releaseDateProperty) as ?date)

        OPTIONAL {?work foaf:depiction ?image}
        FILTER (lang(?label) = '${t}')
        FILTER (lang(?abstract) = '${t}')
    }
    ORDER BY ASC(?date)
`,ir=(e,t,r)=>`
    PREFIX foaf: <http://xmlns.com/foaf/0.1/>
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbp: <http://dbpedia.org/property/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT (REPLACE(STR(?person), "http://dbpedia.org/resource/", "") as ?id) ?label ?image ?birth ?death
    WHERE {
        ?person rdfs:label ?label .
        { SELECT DISTINCT ?person { <http://dbpedia.org/resource/${e}> ${Yn(t)} ?person . }}

        OPTIONAL {?person dbo:activeYearsStartYear ?activeYearsStartYear}
        OPTIONAL {?person dbp:activeYearsStartYear ?activeYearsStartYearProperty}

        OPTIONAL {?person foaf:depiction ?image }

        OPTIONAL {?person dbo:birthYear ?birthYear}
        OPTIONAL {?person dbo:deathYear ?deathYear}

        OPTIONAL {?person dbo:birthDate ?birthDate}
        OPTIONAL {?person dbo:deathDate ?deathDate}

        BIND (COALESCE(?deathDate, ?deathYear) as ?death)
        BIND (COALESCE(?birthDate, ?birthYear, ?activeYearsStartYear, ?activeYearsStartYearProperty) as ?birth)

        FILTER isIRI(?person) 
        FILTER exists { ?person a schema:Person }
        FILTER (lang(?label) = '${r}')
    }
    ORDER BY ASC(?birth)

    LIMIT 1000
`,ar=new Map,et=async e=>{let t=ar.get(e);if(!t){let r=e.replaceAll(`
`," ");t=await(await fetch(`https://dbpedia.org/sparql?default-graph-uri=http://dbpedia.org&query=${r}&format=application/json-ld`)).json(),ar.set(e,t)}return t},rt=(e,t=!1)=>{let r=e.head.vars,n=e.results.bindings.map(i=>{var o;let a={};for(let s of r)a[s]=(o=i[s])==null?void 0:o.value;return a});return t?n[0]:n},oe=async(e,t="en")=>{let r=await et(Wn(e,t));return rt(r,!0)},or=async(e,t="en")=>{let r=await et(ir(e,"person",t));return rt(r)},sr=async(e,t="en")=>{let r=await et(ir(e,"others",t));return rt(r)},ur=async(e,t="en")=>{let r=await et(Gn(e,t));return rt(r)},cr=async(e,t="en")=>{let r=await et(Xn(e,t));return rt(r)},lr=async(e,t="en")=>{let r=await et(zn(e,t));return rt(r)};var At=(e,t)=>Pt()[t]===e;import{html as se}from"https://cdn.skypack.dev/uhtml/async";var Jn=e=>{let t=location.pathname.substr(1).split(",");return t.splice(e),`/${t.join(",")}`},Vn=(e,t)=>{let r=location.pathname.substr(1).split(",");return t<0?r=[e]:(r.splice(t),r[t]=e),`/${r.join(",")}`},fr=(e,t=0,r)=>{let n=At(e.id,r);return se`
        <div 
            class=${`person ${n?"active":""}`} 
            style=${`--index: ${t}`}
            data-id=${e.id}>
        
                ${Nt(e.image,e.label)}

                <button class="zoom" onclick=${()=>{location.hash=e.id,I()}}></button>

                <a class="name" href=${n?Jn(r):Vn(e.id,r)}>
                    ${e.birth?se`<span class="dates">${e.birth.substr(0,4)} ${e.death?se` / ${e.death.substr(0,4)}`:null}</span>`:null}
                    <span class="text">${e.label}</span>
                </a>

                <span class="action-button"></span>
        
        </div>
    `};var jt=e=>{var n,i;let t=(i=(n=e==null?void 0:e.match(/\d{4}/g))==null?void 0:n.map(a=>parseInt(a)))!=null?i:[],r=Math.min(...t);return r!==Infinity?r:null};var Ct=new Map,dr=(e,t)=>(Ct.has(e)||Ct.set(e,t))&&Ct.get(e);var Kn={37:1,38:1,39:1,40:1},ue=e=>t=>{if(!e){t.preventDefault();return}let r=Math.abs(t.touches[0].clientX-t.target._startTouch.x),n=Math.abs(t.touches[0].clientY-t.target._startTouch.y);(e==="y"&&r<n*3||e==="x"&&n<r*3)&&t.cancelable&&t.preventDefault()},pr=ue("x"),hr=ue("y"),mt=ue(null);function vr(e){e.target._startTouch={x:e.touches[0].clientX,y:e.touches[0].clientY}}function mr(e){if(Kn[e.keyCode])return mt(e),!1}var gr=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){gr=!0}}))}catch(e){}var nt=gr?{passive:!1}:!1,_r="onwheel"in document.createElement("div")?"wheel":"mousewheel";function yr(e,t){e.addEventListener("DOMMouseScroll",mt,!1),e.addEventListener(_r,mt,nt),e.addEventListener("touchmove",t==="x"?pr:hr,nt),e.addEventListener("touchstart",vr,nt),e.addEventListener("keydown",mr,!1)}function br(e,t){e.removeEventListener("DOMMouseScroll",mt,!1),e.removeEventListener(_r,mt,nt),e.removeEventListener("touchmove",t==="x"?pr:hr,nt),e.removeEventListener("touchstart",vr,nt),e.removeEventListener("keydown",mr,!1)}function ce(e=window){let t=e===window?window.scrollY:e.scrollTop,r=e===window?window.scrollX:e.scrollLeft,n=0,i=r,a=t;return new Promise(o=>{function s(c){c>=500||c-n>20?o(null):((r!=i||t!=a)&&(n=c,i=r,a=t),requestAnimationFrame(s.bind(null,c+1)))}s(0)})}var le=!1,Qn=new Date().getTime(),it=async()=>{let e=[...document.querySelectorAll(".column")];if(!e.length)return;let t=e.at(-1),r=[],n=new Date().getTime()-Qn;for(let i of e){let a=i.querySelector(".person.active");if(a){let o=a.offsetTop-20;i.querySelector(".inner").scrollTo({top:o,behavior:n<2e3?"auto":"smooth"}),r.push(ce(i).then(()=>{yr(i.querySelector(".inner"),"y")}))}else br(i.querySelector(".inner"),"y")}await Promise.all(r),le||(le=!0,setTimeout(()=>{document.body.scrollTo({left:document.body.scrollWidth,behavior:n<2e3?"auto":"smooth"}),ce(document.body).then(()=>{le=!1})},600))};document.body.addEventListener("click",e=>{var r,n;let t=e.target.nodeName!=="A"?e.target.closest("a"):e.target;if(t){let i=t.getAttribute("href");if(i&&i[0]==="/"){e.preventDefault();let a=(r=t.closest(".person"))==null?void 0:r.classList.contains("active"),o=(n=t.closest(".person"))==null?void 0:n.classList.contains("person");if(o&&!a&&setTimeout(it,400),o&&a){let s=[...document.querySelectorAll(".column")],c=s.indexOf(t.closest(".column"));if(c===1)history.pushState(null,null,i),I();else for(let[l,f]of s.entries())l>c&&(f.addEventListener("animationend",async()=>{history.pushState(null,null,i),await I(),it()},{once:!0}),f.classList.add("prepare-removal"))}else history.pushState(null,null,i),I()}}});var Zn=[],ti=async e=>{let t=await lr(e.id);return t.length?j`
    <ul class="ideas item-list">
        <h3>Ideas:</h3>
        ${t.map(r=>j`<li><a class="idea item" href=${`#${r.id}`}>${r.label}</a></li>`)}
    </ul>
    `:null},ei=async e=>{let t=await ur(e.id);for(let r of t)r.cleanedDate=jt(r.date);return t.sort((r,n)=>r.cleanedDate-n.cleanedDate),t.length?j`
    <ul class="works item-list">
        <h3>Works:</h3>
        ${t.map(r=>j`<li><a class="work item" href=${`#${r.id}`}>${r.label} ${jt(r.date)?j`(${jt(r.date)})`:null}</a></li>`)}
    </ul>
    `:null},ri=async e=>{let t=await cr(e.id);return t.length?j`
    <ul class="interests item-list">
        <h3>Interests:</h3>
        ${t.map(r=>j`<li><a class="interest item" href=${`#${r.id}`}>${r.label}</a></li>`)}
    </ul>
    `:null},Er=async e=>{let t=await Promise.all(e.map(n=>oe(n))),r=null;if(location.hash){let n=decodeURI(location.hash).substr(1);r=n?await oe(n,"en"):null}return document.body.dataset.selectedPerson=(!!r).toString(),j`
        ${r?j`
        <div class="selected-person">
            <h1 class="title">${r.label} <button class="close" onclick=${()=>{location.hash="",I()}}></button></h1>
            <div class="abstract">
                ${r.image?j`<img class="image" src=${`https://images.weserv.nl/?url=${r.image}&w=300`} />`:null}
                ${r.abstract}
            </div>
        </div>        
        `:null}

        <div class="people">
            ${fe(e[0],sr,-1,`Influencers of ${t[0].label}`)}
            ${fe(e[0],async()=>[t[0]],0,"Your starting selection:")}
            ${e.map((n,i)=>fe(n,or,i+1,`Influenced by ${t[i].label}`))}
        </div>
    `},fe=async(e,t,r,n)=>{let i=dr(e+":"+r,{people:[],isLoading:!0});i.isLoading&&t(e).then(o=>{i.people=o,i.isLoading=!1,I().then(it)});let a=i.people.find(o=>At(o.id,r));return j`
    <div ref=${o=>Zn.push(o)} class=${`column ${r===0?"selected":""} ${a?"active":"is-loading"}`}>
        <h3 class="column-title">${n}</h3>

        <div class="inner">
            ${i.people.map((o,s)=>fr(o,s,r))}

            <div class="scroll-maker"></div>
        </div>

        ${a?j`
        <div class="item-lists">
            ${ei(a)}
            ${ri(a)}
            ${ti(a)}
        </div>
        `:null}

    </div>
    `};var u=Rt(Yt()),ft=Rt(Yt());var Ae=function(e,t){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ae(e,t)};function Wt(e,t){Ae(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var b=function(){return b=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},b.apply(this,arguments)};function Xr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function K(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xt(arguments[t]));return e}var F;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(F||(F={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=t})(F||(F={}));var Q;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(Q||(Q={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}e.fromHttpCode=t})(Q||(Q={}));function Ra(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function xa(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ra(arguments[t]));return e}function Na(e){e.then(null,function(t){console.error(t)})}var ja=Object.setPrototypeOf||({__proto__:[]}instanceof Array?Pa:Aa);function Pa(e,t){return e.__proto__=t,e}function Aa(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}var S=function(e){(0,u._)(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,ja(i,n.prototype),i}return t}(Error),Ca=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,St="Invalid Dsn",zr=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,a=r.pass,o=r.port,s=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(t&&a?":"+a:"")+("@"+n+(o?":"+o:"")+"/"+(i&&i+"/")+s)},e.prototype._fromString=function(t){var r=Ca.exec(t);if(!r)throw new S(St);var n=(0,u.a)(r.slice(1),6),i=n[0],a=n[1],o=n[2],s=o===void 0?"":o,c=n[3],l=n[4],f=l===void 0?"":l,p=n[5],h="",v=p,g=v.split("/");if(g.length>1&&(h=g.slice(0,-1).join("/"),v=g.pop()),v){var y=v.match(/^\d+/);y&&(v=y[0])}this._fromComponents({host:c,pass:s,path:h,projectId:v,port:f,protocol:i,publicKey:a})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new S(St+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new S(St+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new S(St+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new S(St+": Invalid port "+this.port)},e}(),La=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return u.S.reject(new S("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new u.S(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);u.S.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}();function Gr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=(0,u.g)();if(n&&n[e])return n[e].apply(n,xa(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Da(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return Gr("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function Fa(e){Gr("withScope",e)}var Jr="7",Vr=function(){function e(t,r,n){r===void 0&&(r={}),this.dsn=t,this._dsnObject=new zr(t),this.metadata=r,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this.getDsn(),i=["Sentry sentry_version="+Jr];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var a in t)if(a!=="dsn")if(a==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),r={sentry_key:t.publicKey,sentry_version:Jr};return(0,u.u)(r)},e}();var k=function(){return k=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},k.apply(this,arguments)};function Ma(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ha(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ua(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function M(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ua(arguments[t]));return e}var Kr=[];function Qr(e){return e.reduce(function(t,r){return t.every(function(n){return r.name!==n.name})&&t.push(r),t},[])}function Ba(e){var t=e.defaultIntegrations&&M(e.defaultIntegrations)||[],r=e.integrations,n=M(Qr(t));Array.isArray(r)?n=M(n.filter(function(o){return r.every(function(s){return s.name!==o.name})}),Qr(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(o){return o.name}),a="Debug";return i.indexOf(a)!==-1&&n.push.apply(n,M(n.splice(i.indexOf(a),1))),n}function $a(e){Kr.indexOf(e.name)===-1&&(e.setupOnce(u.b,u.g),Kr.push(e.name),u.l.log("Integration installed: "+e.name))}function qa(e){var t={};return Ba(e).forEach(function(r){t[r.name]=r,$a(r)}),Object.defineProperty(t,"initialized",{value:!0}),t}var Ya=function(){function e(t,r){this._integrations={},this._numProcessing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new zr(r.dsn))}return e.prototype.captureException=function(t,r,n){var i=this,a=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(o){return i._captureEvent(o,r,n)}).then(function(o){a=o})),a},e.prototype.captureMessage=function(t,r,n,i){var a=this,o=n&&n.event_id,s=(0,u.i)(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(c){return a._captureEvent(c,n,i)}).then(function(c){o=c})),o},e.prototype.captureEvent=function(t,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(a){i=a})),i},e.prototype.captureSession=function(t){if(!this._isEnabled()){u.l.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?u.l.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(t){var r=this;return this._isClientDoneProcessing(t).then(function(n){return r.getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=qa(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(r){return u.l.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,a=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;try{for(var c=Ha(s),l=c.next();!l.done;l=c.next()){var f=l.value,p=f.mechanism;if(p&&p.handled===!1){a=!0;break}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}var h=t.status===u.c.Ok,v=h&&t.errors===0||h&&a;v&&(t.update(k(k({},a&&{status:u.c.Crashed}),{errors:t.errors||Number(o||a)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var r=this;return new u.S(function(n){var i=0,a=1,o=setInterval(function(){r._numProcessing==0?(clearInterval(o),n(!0)):(i+=a,t&&i>=t&&(clearInterval(o),n(!1)))},a)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,r,n){var i=this,a=this.getOptions().normalizeDepth,o=a===void 0?3:a,s=k(k({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,u.d)()),timestamp:t.timestamp||(0,u.e)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var c=r;n&&n.captureContext&&(c=u.f.clone(c).update(n.captureContext));var l=u.S.resolve(s);return c&&(l=c.applyToEvent(s,n)),l.then(function(f){return typeof o=="number"&&o>0?i._normalizeEvent(f,o):f})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=k(k(k(k(k({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(o){return k(k({},o),o.data&&{data:(0,u.n)(o.data,r)})})}),t.user&&{user:(0,u.n)(t.user,r)}),t.contexts&&{contexts:(0,u.n)(t.contexts,r)}),t.extra&&{extra:(0,u.n)(t.extra,r)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);var i=this.getOptions()._experiments,a=i===void 0?{}:i;return a.ensureNoCircularStructures?(0,u.n)(n):n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,a=r.dist,o=r.maxValueLength,s=o===void 0?250:o;"environment"in t||(t.environment="environment"in r?n:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=(0,u.t)(t.message,s));var c=t.exception&&t.exception.values&&t.exception.values[0];c&&c.value&&(c.value=(0,u.t)(c.value,s));var l=t.request;l&&l.url&&(l.url=(0,u.t)(l.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var r=Object.keys(this._integrations);r.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=M(t.sdk.integrations||[],r))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){u.l.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,a,o,s=this.getOptions(),c=s.beforeSend,l=s.sampleRate,f=this.getTransport();if(!this._isEnabled())return u.S.reject(new S("SDK not enabled, will not capture event."));var p=t.type==="transaction";return!p&&typeof l=="number"&&Math.random()>l?((o=(a=f).recordLostEvent)===null||o===void 0||o.call(a,u.O.SampleRate,"event"),u.S.reject(new S("Discarding event because it's not included in the random sample (sampling rate = "+l+")"))):this._prepareEvent(t,n,r).then(function(h){var v,g;if(h===null)throw(g=(v=f).recordLostEvent)===null||g===void 0||g.call(v,u.O.EventProcessor,t.type||"event"),new S("An event processor returned null, will not send event.");var y=r&&r.data&&r.data.__sentry__===!0;if(y||p||!c)return h;var E=c(h,r);return i._ensureBeforeSendRv(E)}).then(function(h){var v,g;if(h===null)throw(g=(v=f).recordLostEvent)===null||g===void 0||g.call(v,u.O.BeforeSend,t.type||"event"),new S("`beforeSend` returned `null`, will not send event.");var y=n&&n.getSession&&n.getSession();return!p&&y&&i._updateSessionFromEvent(y,h),i._sendEvent(h),h}).then(null,function(h){throw h instanceof S?h:(i.captureException(h,{data:{__sentry__:!0},originalException:h}),new S(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+h))})},e.prototype._process=function(t){var r=this;this._numProcessing+=1,t.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},e.prototype._ensureBeforeSendRv=function(t){var r="`beforeSend` method has to return `null` or a valid event.";if((0,u.h)(t))return t.then(function(n){if(!((0,u.j)(n)||n===null))throw new S(r);return n},function(n){throw new S("beforeSend rejected with "+n)});if(!((0,u.j)(t)||t===null))throw new S(r);return t},e}(),Wa=function(){function e(){}return e.prototype.sendEvent=function(t){return u.S.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Q.Skipped})},e.prototype.close=function(t){return u.S.resolve(!0)},e}(),Xa=function(){function e(t){this._options=t,this._options.dsn||u.l.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,r){throw new S("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new S("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){u.l.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){u.l.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){u.l.error("Error while sending session: "+r)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Wa},e}();function Zr(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,r=t.name,n=t.version;return{name:r,version:n}}}function za(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=M(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=M(e.sdk.packages||[],t.packages||[])),e}function tn(e,t){var r=Zr(t),n=JSON.stringify(k(k({sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",a=JSON.stringify({type:i});return{body:n+`
`+a+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function en(e,t){var r=Zr(t),n=e.type||"event",i=n==="transaction"||t.forceEnvelope(),a=e.debug_meta||{},o=a.transactionSampling,s=Ma(a,["transactionSampling"]),c=o||{},l=c.method,f=c.rate;Object.keys(s).length===0?delete e.debug_meta:e.debug_meta=s;var p={body:JSON.stringify(r?za(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var h=JSON.stringify(k(k({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),v=JSON.stringify({type:n,sample_rates:[{id:l,rate:f}]}),g=h+`
`+v+`
`+p.body;p.body=g}return p}function Ga(e,t){var r;t.debug===!0&&u.l.enable();var n=(0,u.g)();(r=n.getScope())===null||r===void 0||r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var rn="6.13.3",nn,an=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){nn=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return nn.apply(n,t)}},e.id="FunctionToString",e}(),Ja=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],on=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,u.b)(function(t){var r=(0,u.g)();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),a=i?i.getOptions():{},o=typeof n._mergeOptions=="function"?n._mergeOptions(a):{};return typeof n._shouldDropEvent!="function"?t:n._shouldDropEvent(t,o)?null:t}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(u.l.warn(`Event dropped due to being internal Sentry Error.
Event: `+(0,u.k)(t)),!0):this._isIgnoredError(t,r)?(u.l.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,u.k)(t)),!0):this._isDeniedUrl(t,r)?(u.l.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,u.k)(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,r)?!1:(u.l.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,u.k)(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(t,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return(0,u.m)(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return n?r.denyUrls.some(function(i){return(0,u.m)(n,i)}):!1},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return n?r.allowUrls.some(function(i){return(0,u.m)(n,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:M(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:M(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:M(this._options.ignoreErrors||[],t.ignoreErrors||[],Ja),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=n===void 0?"":n,a=r.value,o=a===void 0?"":a;return[""+o,i+": "+o]}catch(s){return u.l.error("Cannot extract message for event "+(0,u.k)(t)),[]}return[]},e.prototype._getLastValidUrl=function(t){t===void 0&&(t=[]);for(var r,n,i=t.length-1;i>=0;i--){var a=t[i];if(((r=a)===null||r===void 0?void 0:r.filename)!=="<anonymous>"&&((n=a)===null||n===void 0?void 0:n.filename)!=="[native code]")return a.filename||null}return null},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return this._getLastValidUrl(r)}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(i){return u.l.error("Cannot extract url for event "+(0,u.k)(t)),null}},e.id="InboundFilters",e}(),Va=Object.freeze({__proto__:null,FunctionToString:an,InboundFilters:on}),dt="?",Ka=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Qa=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Za=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,to=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,eo=/\((\S*)(?::(\d+))(?::(\d+))\)/,ro=/Minified React error #\d+;/i;function wt(e){var t=null,r=0;e&&(typeof e.framesToPop=="number"?r=e.framesToPop:ro.test(e.message)&&(r=1));try{if(t=io(e),t)return sn(t,r)}catch(n){}try{if(t=no(e),t)return sn(t,r)}catch(n){}return{message:je(e),name:e&&e.name,stack:[],failed:!0}}function no(e){var t,r;if(!e||!e.stack)return null;for(var n=[],i=e.stack.split(`
`),a,o,s,c,l=0;l<i.length;++l){if(s=Ka.exec(i[l])){var f=s[2]&&s[2].indexOf("native")===0;a=s[2]&&s[2].indexOf("eval")===0,a&&(o=eo.exec(s[2]))&&(s[2]=o[1],s[3]=o[2],s[4]=o[3]);var p=s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],h=s[1]||dt;t=Xt(un(h,p),2),h=t[0],p=t[1],c={url:p,func:h,args:f?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=Za.exec(i[l]))c={url:s[2],func:s[1]||dt,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=Qa.exec(i[l])){a=s[3]&&s[3].indexOf(" > eval")>-1,a&&(o=to.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=o[1],s[4]=o[2],s[5]=""):l===0&&!s[5]&&e.columnNumber!==void 0&&(n[0].column=e.columnNumber+1);var p=s[3],h=s[1]||dt;r=Xt(un(h,p),2),h=r[0],p=r[1],c={url:p,func:h,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null}}else continue;!c.func&&c.line&&(c.func=dt),n.push(c)}return n.length?{message:je(e),name:e.name,stack:n}:null}function io(e){if(!e||!e.stacktrace)return null;for(var t=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.split(`
`),a=[],o,s=0;s<i.length;s+=2){var c=null;(o=r.exec(i[s]))?c={url:o[2],func:o[3],args:[],line:+o[1],column:null}:(o=n.exec(i[s]))&&(c={url:o[6],func:o[3]||o[4],args:o[5]?o[5].split(","):[],line:+o[1],column:+o[2]}),c&&(!c.func&&c.line&&(c.func=dt),a.push(c))}return a.length?{message:je(e),name:e.name,stack:a}:null}var un=function(e,t){var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:dt,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function sn(e,t){try{return b(b({},e),{stack:e.stack.slice(t)})}catch(r){return e}}function je(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}var ao=50;function cn(e){var t=Ce(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function oo(e,t,r){var n={exception:{values:[{type:(0,u.o)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+(0,u.p)(e)}]},extra:{__serialized__:(0,u.q)(e)}};if(t){var i=wt(t),a=Ce(i.stack);n.stacktrace={frames:a}}return n}function ln(e){var t=cn(e);return{exception:{values:[t]}}}function Ce(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),n.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,ao).map(function(i){return{colno:i.column===null?void 0:i.column,filename:i.url||t[0].url,function:i.func||"?",in_app:!0,lineno:i.line===null?void 0:i.line}}).reverse()}function so(e,t,r){var n=r&&r.syntheticException||void 0,i=Le(t,n,{attachStacktrace:e.attachStacktrace});return(0,u.r)(i,{handled:!0,type:"generic"}),i.level=F.Error,r&&r.event_id&&(i.event_id=r.event_id),u.S.resolve(i)}function uo(e,t,r,n){r===void 0&&(r=F.Info);var i=n&&n.syntheticException||void 0,a=De(t,i,{attachStacktrace:e.attachStacktrace});return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),u.S.resolve(a)}function Le(e,t,r){r===void 0&&(r={});var n;if((0,u.s)(e)&&e.error){var i=e;return e=i.error,n=ln(wt(e)),n}if((0,u.v)(e)||(0,u.w)(e)){var a=e,o=a.name||((0,u.v)(a)?"DOMError":"DOMException"),s=a.message?o+": "+a.message:o;return n=De(s,t,r),(0,u.x)(n,s),"code"in a&&(n.tags=b(b({},n.tags),{"DOMException.code":""+a.code})),n}if((0,u.y)(e))return n=ln(wt(e)),n;if((0,u.j)(e)||(0,u.o)(e)){var c=e;return n=oo(c,t,r.rejection),(0,u.r)(n,{synthetic:!0}),n}return n=De(e,t,r),(0,u.x)(n,""+e,void 0),(0,u.r)(n,{synthetic:!0}),n}function De(e,t,r){r===void 0&&(r={});var n={message:e};if(r.attachStacktrace&&t){var i=wt(t),a=Ce(i.stack);n.stacktrace={frames:a}}return n}var L=(0,u.z)(),zt;function fn(){var e,t;if(zt)return zt;if((0,u.B)(L.fetch))return zt=L.fetch.bind(L);var r=L.document,n=L.fetch;if(typeof((e=r)===null||e===void 0?void 0:e.createElement)=="function")try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i),((t=i.contentWindow)===null||t===void 0?void 0:t.fetch)&&(n=i.contentWindow.fetch),r.head.removeChild(i)}catch(a){u.l.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return zt=n.bind(L)}function co(e,t){var r=Object.prototype.toString.call(L&&L.navigator)==="[object Navigator]",n=r&&typeof L.navigator.sendBeacon=="function";if(n){var i=L.navigator.sendBeacon.bind(L.navigator);return i(e,t)}if((0,u.A)()){var a=fn();return Na(a(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}))}}var dn={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Fe=(0,u.z)(),pn=function(){function e(t){var r=this;this.options=t,this._buffer=new La(30),this._rateLimits={},this._outcomes={},this._api=new Vr(t.dsn,t._metadata,t.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&Fe.document&&Fe.document.addEventListener("visibilitychange",function(){Fe.document.visibilityState==="hidden"&&r._flushOutcomes()})}return e.prototype.sendEvent=function(t){throw new S("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype.recordLostEvent=function(t,r){var n;if(!!this.options.sendClientReports){var i=dn[r]+":"+t;u.l.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n!=null?n:0)+1)}},e.prototype._flushOutcomes=function(){if(!!this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},!Object.keys(t).length){u.l.log("No outcomes to flush");return}u.l.log(`Flushing outcomes:
`+JSON.stringify(t,null,2));var r=this._api.getEnvelopeEndpointWithUrlEncodedAuth(),n=JSON.stringify({}),i=JSON.stringify({type:"client_report"}),a=JSON.stringify({timestamp:(0,u.e)(),discarded_events:Object.keys(t).map(function(s){var c=Xt(s.split(":"),2),l=c[0],f=c[1];return{reason:f,category:l,quantity:t[s]}})}),o=n+`
`+i+`
`+a;try{co(r,o)}catch(s){u.l.error(s)}}},e.prototype._handleResponse=function(t){var r=t.requestType,n=t.response,i=t.headers,a=t.resolve,o=t.reject,s=Q.fromHttpCode(n.status),c=this._handleRateLimit(i);if(c&&u.l.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),s===Q.Success){a({status:s});return}o(n)},e.prototype._disabledUntil=function(t){var r=dn[t];return this._rateLimits[r]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,a,o=Date.now(),s=t["x-sentry-rate-limits"],c=t["retry-after"];if(s){try{for(var l=Xr(s.trim().split(",")),f=l.next();!f.done;f=l.next()){var p=f.value,h=p.split(":",2),v=parseInt(h[0],10),g=(isNaN(v)?60:v)*1e3;try{for(var y=(i=void 0,Xr(h[1].split(";"))),E=y.next();!E.done;E=y.next()){var A=E.value;this._rateLimits[A||"all"]=new Date(o+g)}}catch(O){i={error:O}}finally{try{E&&!E.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}}catch(O){r={error:O}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0}else if(c)return this._rateLimits.all=new Date(o+(0,u.C)(o,c)),!0;return!1},e}(),lo=function(e){Wt(t,e);function t(r,n){n===void 0&&(n=fn());var i=e.call(this,r)||this;return i._fetch=n,i}return t.prototype.sendEvent=function(r){return this._sendRequest(en(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(tn(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return this.recordLostEvent(u.O.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var a={body:r.body,method:"POST",referrerPolicy:(0,u.D)()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(a,this.options.fetchParameters),this.options.headers!==void 0&&(a.headers=this.options.headers),this._buffer.add(function(){return new u.S(function(o,s){i._fetch(r.url,a).then(function(c){var l={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:c,headers:l,resolve:o,reject:s})}).catch(s)})}).then(void 0,function(o){throw o instanceof S?i.recordLostEvent(u.O.QueueOverflow,r.type):i.recordLostEvent(u.O.NetworkError,r.type),o})},t}(pn),fo=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sendEvent=function(r){return this._sendRequest(en(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(tn(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?(this.recordLostEvent(u.O.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new u.S(function(a,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var l={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:l,resolve:a,reject:o})}},s.open("POST",r.url);for(var c in i.options.headers)i.options.headers.hasOwnProperty(c)&&s.setRequestHeader(c,i.options.headers[c]);s.send(r.body)})}).then(void 0,function(a){throw a instanceof S?i.recordLostEvent(u.O.QueueOverflow,r.type):i.recordLostEvent(u.O.NetworkError,r.type),a})},t}(pn);var po=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(r,n){return so(this._options,r,n)},t.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=F.Info),uo(this._options,r,n,i)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=b(b({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):(0,u.A)()?new lo(r):new fo(r)},t}(Xa),Gt=(0,u.z)(),Me=0;function hn(){return Me>0}function ho(){Me+=1,setTimeout(function(){Me-=1})}function pt(e,t,r){if(t===void 0&&(t={}),typeof e!="function")return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var n=function(){var o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var s=o.map(function(c){return pt(c,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(c){throw ho(),Fa(function(l){l.addEventProcessor(function(f){var p=b({},f);return t.mechanism&&((0,u.x)(p,void 0,void 0),(0,u.r)(p,t.mechanism)),p.extra=b(b({},p.extra),{arguments:o}),p}),Da(c)}),c}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch(o){}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{var a=Object.getOwnPropertyDescriptor(n,"name");a.configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch(o){}return n}function vo(e){if(e===void 0&&(e={}),!!Gt.document){if(!e.eventId){u.l.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){u.l.error("Missing dsn option in showReportDialog call");return}var t=Gt.document.createElement("script");t.async=!0,t.src=new Vr(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad);var r=Gt.document.head||Gt.document.body;r&&r.appendChild(t)}}var vn=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=b({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(u.l.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(u.l.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||((0,u.E)({callback:function(r){var n=r.error,i=(0,u.g)(),a=i.getIntegration(e),o=n&&n.__sentry_own_request__===!0;if(!(!a||hn()||o)){var s=i.getClient(),c=n===void 0&&(0,u.F)(r.msg)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(Le(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);(0,u.r)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||((0,u.E)({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(l){}var i=(0,u.g)(),a=i.getIntegration(e),o=n&&n.__sentry_own_request__===!0;if(!a||hn()||o)return!0;var s=i.getClient(),c=(0,u.i)(n)?t._eventFromRejectionWithPrimitive(n):Le(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=F.Error,(0,u.r)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(t,r,n,i){var a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,u.s)(t)?t.message:t,s,c=o.match(a);c&&(s=c[1],o=c[2]);var l={exception:{values:[{type:s||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(l,r,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype._enhanceEventWithInitialFrame=function(t,r,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var a=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,s=(0,u.F)(r)&&r.length>0?r:(0,u.G)();return t.exception.values[0].stacktrace.frames.length===0&&t.exception.values[0].stacktrace.frames.push({colno:a,filename:s,function:"?",in_app:!0,lineno:o}),t},e.id="GlobalHandlers",e}(),mo=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],mn=function(){function e(t){this.name=e.id,this._options=b({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=(0,u.z)();if(this._options.setTimeout&&(0,u.H)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,u.H)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,u.H)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,u.H)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var r=Array.isArray(this._options.eventTarget)?this._options.eventTarget:mo;r.forEach(this._wrapEventTarget.bind(this))}},e.prototype._wrapTimeFunction=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=pt(i,{mechanism:{data:{function:(0,u.I)(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}},e.prototype._wrapRAF=function(t){return function(r){return t.call(this,pt(r,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,u.I)(t)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(t){var r=(0,u.z)(),n=r[t]&&r[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||((0,u.H)(n,"addEventListener",function(i){return function(a,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=pt(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:(0,u.I)(o),target:t},handled:!0,type:"instrument"}}))}catch(c){}return i.call(this,a,pt(o,{mechanism:{data:{function:"addEventListener",handler:(0,u.I)(o),target:t},handled:!0,type:"instrument"}}),s)}}),(0,u.H)(n,"removeEventListener",function(i){return function(a,o,s){var c,l=o;try{var f=(c=l)===null||c===void 0?void 0:c.__sentry_wrapped__;f&&i.call(this,a,f,s)}catch(p){}return i.call(this,a,l,s)}}))},e.prototype._wrapXHR=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,a=["onload","onerror","onprogress","onreadystatechange"];return a.forEach(function(o){o in i&&typeof i[o]=="function"&&(0,u.H)(i,o,function(s){var c={mechanism:{data:{function:o,handler:(0,u.I)(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(c.mechanism.data.handler=(0,u.I)(s.__sentry_original__)),pt(s,c)})}),t.apply(this,r)}},e.id="TryCatch",e}(),He=function(){function e(t){this.name=e.id,this._options=b({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){!this._options.sentry||(0,u.g)().addBreadcrumb({category:"sentry."+(t.type==="transaction"?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,u.k)(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this._options.console&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._consoleBreadcrumb.apply(t,K(r))},type:"console"}),this._options.dom&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._domBreadcrumb.apply(t,K(r))},type:"dom"}),this._options.xhr&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._xhrBreadcrumb.apply(t,K(r))},type:"xhr"}),this._options.fetch&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._fetchBreadcrumb.apply(t,K(r))},type:"fetch"}),this._options.history&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._historyBreadcrumb.apply(t,K(r))},type:"history"})},e.prototype._consoleBreadcrumb=function(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:F.fromString(t.level),message:(0,u.J)(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+((0,u.J)(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;(0,u.g)().addBreadcrumb(r,{input:t.args,level:t.level})},e.prototype._domBreadcrumb=function(t){var r,n=typeof this._options.dom=="object"?this._options.dom.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{r=t.event.target?(0,u.K)(t.event.target,n):(0,u.K)(t.event,n)}catch(i){r="<unknown>"}r.length!==0&&(0,u.g)().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})},e.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},n=r.method,i=r.url,a=r.status_code,o=r.body;(0,u.g)().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:o});return}},e.prototype._fetchBreadcrumb=function(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?(0,u.g)().addBreadcrumb({category:"fetch",data:t.fetchData,level:F.Error,type:"http"},{data:t.error,input:t.args}):(0,u.g)().addBreadcrumb({category:"fetch",data:b(b({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))},e.prototype._historyBreadcrumb=function(t){var r=(0,u.z)(),n=t.from,i=t.to,a=(0,u.L)(r.location.href),o=(0,u.L)(n),s=(0,u.L)(i);o.path||(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(n=o.relative),(0,u.g)().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}(),go="cause",_o=5,gn=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||go,this._limit=t.limit||_o}return e.prototype.setupOnce=function(){(0,u.b)(function(t,r){var n=(0,u.g)().getIntegration(e);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(t,r):t}return t})},e.prototype._handler=function(t,r){if(!t.exception||!t.exception.values||!r||!(0,u.M)(r.originalException,Error))return t;var n=this._walkErrorTree(r.originalException,this._key);return t.exception.values=K(n,t.exception.values),t},e.prototype._walkErrorTree=function(t,r,n){if(n===void 0&&(n=[]),!(0,u.M)(t[r],Error)||n.length+1>=this._limit)return n;var i=wt(t[r]),a=cn(i);return this._walkErrorTree(t[r],r,K([a],n))},e.id="LinkedErrors",e}(),ht=(0,u.z)(),_n=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,u.b)(function(t){var r,n,i;if((0,u.g)().getIntegration(e)){if(!ht.navigator&&!ht.location&&!ht.document)return t;var a=((r=t.request)===null||r===void 0?void 0:r.url)||((n=ht.location)===null||n===void 0?void 0:n.href),o=(ht.document||{}).referrer,s=(ht.navigator||{}).userAgent,c=b(b(b({},(i=t.request)===null||i===void 0?void 0:i.headers),o&&{Referer:o}),s&&{"User-Agent":s}),l=b(b({},a&&{url:a}),{headers:c});return b(b({},t),{request:l})}return t})},e.id="UserAgent",e}(),yn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(n){var i=r().getIntegration(e);if(i){try{if(i._shouldDropEvent(n,i._previousEvent))return u.l.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(a){return i._previousEvent=n}return i._previousEvent=n}return n})},e.prototype._shouldDropEvent=function(t,r){return r?!!(this._isSameMessageEvent(t,r)||this._isSameExceptionEvent(t,r)):!1},e.prototype._isSameMessageEvent=function(t,r){var n=t.message,i=r.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._getFramesFromEvent=function(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames},e.prototype._isSameStacktrace=function(t,r){var n=this._getFramesFromEvent(t),i=this._getFramesFromEvent(r);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(var a=0;a<i.length;a++){var o=i[a],s=n[a];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},e.prototype._isSameExceptionEvent=function(t,r){var n=this._getExceptionFromEvent(r),i=this._getExceptionFromEvent(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._isSameFingerprint=function(t,r){var n=t.fingerprint,i=r.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch(a){return!1}},e.id="Dedupe",e}(),yo=Object.freeze({__proto__:null,GlobalHandlers:vn,TryCatch:mn,Breadcrumbs:He,LinkedErrors:gn,UserAgent:_n,Dedupe:yn}),bo=function(e){Wt(t,e);function t(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:rn}],version:rn},n=e.call(this,po,r)||this,n}return t.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=(0,u.z)().document;if(!!n){if(!this._isEnabled()){u.l.error("Trying to call showReportDialog with Sentry Client disabled");return}vo(b(b({},r),{dsn:r.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._sendEvent=function(r){var n=this.getIntegration(He);n&&n.addSentryBreadcrumb(r),e.prototype._sendEvent.call(this,r)},t}(Ya),Eo=[new on,new an,new mn,new He,new vn,new gn,new yn,new _n];function bn(e){if(e===void 0&&(e={}),e.defaultIntegrations===void 0&&(e.defaultIntegrations=Eo),e.release===void 0){var t=(0,u.z)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0),Ga(bo,e),e.autoSessionTracking&&To()}function To(){var e=(0,u.z)(),t=e.document;if(typeof t=="undefined"){u.l.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=(0,u.g)();typeof r.startSession!="function"||typeof r.captureSession!="function"||(r.startSession({ignoreDuration:!0}),r.captureSession(),(0,u.E)({callback:function(n){var i=n.from,a=n.to;i===void 0||i===a||(r.startSession({ignoreDuration:!0}),r.captureSession())},type:"history"}))}var En={},Ue=(0,u.z)();Ue.Sentry&&Ue.Sentry.Integrations&&(En=Ue.Sentry.Integrations);var vu=b(b(b({},En),Va),yo);var jn=Rt(Pn());bn({dsn:"https://cd8164655d204832bba96a931a6a018e@o483393.ingest.sentry.io/6010247",integrations:[new jn.Integrations.BrowserTracing],tracesSampleRate:1});var Ss=xt(it,700),I=rr(async()=>{let e=Pt();try{await An(document.body,e.length?Er(e):er())}catch(t){t.message==="NetworkError when attempting to fetch resource."?An(document.body,Ts`<h1 class="dbpedia-offline">Unfortunatly DBpedia is down.<br>Please come back later.</h1>`):console.info(t.message)}},300);I().then(Ss);window.addEventListener("popstate",I);export{I as drawApp};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=app.js.map
