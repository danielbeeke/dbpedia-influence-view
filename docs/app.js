var wn=Object.create,Ot=Object.defineProperty,On=Object.getPrototypeOf,In=Object.prototype.hasOwnProperty,kn=Object.getOwnPropertyNames,Rn=Object.getOwnPropertyDescriptor;var Zt=e=>Ot(e,"__esModule",{value:!0});var Ue=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Be=(e,t)=>{for(var r in t)Ot(e,r,{get:t[r],enumerable:!0})},xn=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of kn(t))!In.call(e,n)&&n!=="default"&&Ot(e,n,{get:()=>t[n],enumerable:!(r=Rn(t,n))||r.enumerable});return e},It=e=>xn(Zt(Ot(e!=null?wn(On(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Ut=Ue((Bn,vt)=>{Zt(Bn);Be(Bn,{A:()=>fe,B:()=>de,C:()=>Ai,D:()=>Bi,E:()=>Ki,F:()=>mt,G:()=>Pi,H:()=>D,I:()=>le,J:()=>wi,K:()=>ae,L:()=>ki,M:()=>X,N:()=>B,O:()=>re,P:()=>Ht,Q:()=>be,R:()=>aa,S:()=>Ir,T:()=>_t,U:()=>Lt,V:()=>bt,W:()=>Si,X:()=>gt,Y:()=>oa,_:()=>Vn,a:()=>Jn,b:()=>sa,c:()=>$,d:()=>ut,e:()=>ge,f:()=>Mt,g:()=>fa,h:()=>ie,i:()=>ne,j:()=>Pt,k:()=>Ri,l:()=>ct,m:()=>Oi,n:()=>Er,o:()=>cr,p:()=>Hi,q:()=>br,r:()=>Ni,s:()=>qn,t:()=>se,u:()=>Ci,v:()=>Yn,w:()=>Wn,x:()=>xi,y:()=>ur,z:()=>N});var $;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})($||($={}));var sr;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(sr||(sr={}));var re;(function(e){e.BeforeSend="before_send",e.EventProcessor="event_processor",e.NetworkError="network_error",e.QueueOverflow="queue_overflow",e.RateLimitBackoff="ratelimit_backoff",e.SampleRate="sample_rate"})(re||(re={}));var m=function(){return m=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},m.apply(this,arguments)};function $n(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function it(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($n(arguments[t]));return e}function ur(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return X(e,Error)}}function qn(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}function Yn(e){return Object.prototype.toString.call(e)==="[object DOMError]"}function Wn(e){return Object.prototype.toString.call(e)==="[object DOMException]"}function mt(e){return Object.prototype.toString.call(e)==="[object String]"}function ne(e){return e===null||typeof e!="object"&&typeof e!="function"}function Pt(e){return Object.prototype.toString.call(e)==="[object Object]"}function cr(e){return typeof Event!="undefined"&&X(e,Event)}function lr(e){return typeof Element!="undefined"&&X(e,Element)}function zn(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ie(e){return Boolean(e&&e.then&&typeof e.then=="function")}function Xn(e){return Pt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function X(e,t){try{return e instanceof t}catch(r){return!1}}function ae(e,t){try{for(var r=e,n=5,i=80,a=[],o=0,s=0,c=" > ",l=c.length,f=void 0;r&&o++<n&&(f=Gn(r,t),!(f==="html"||o>1&&s+a.length*l+f.length>=i));)a.push(f),s+=f.length,r=r.parentNode;return a.reverse().join(c)}catch(p){return"<unknown>"}}function Gn(e,t){var r,n,i=e,a=[],o,s,c,l,f;if(!i||!i.tagName)return"";a.push(i.tagName.toLowerCase());var p=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(v){return i.getAttribute(v)}).map(function(v){return[v,i.getAttribute(v)]}):null;if((n=p)===null||n===void 0?void 0:n.length)p.forEach(function(v){a.push("["+v[0]+'="'+v[1]+'"]')});else if(i.id&&a.push("#"+i.id),o=i.className,o&&mt(o))for(s=o.split(/\s+/),f=0;f<s.length;f++)a.push("."+s[f]);var h=["type","name","title","alt"];for(f=0;f<h.length;f++)c=h[f],l=i.getAttribute(c),l&&a.push("["+c+'="'+l+'"]');return a.join("")}var oe=function(e,t){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oe(e,t)};function Vn(e,t){oe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var G=function(){return G=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},G.apply(this,arguments)};function fr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function dr(){throw new Error("setTimeout has not been defined")}function pr(){throw new Error("clearTimeout has not been defined")}var q=dr,Y=pr,at;typeof window!="undefined"?at=window:typeof self!="undefined"?at=self:at={};typeof at.setTimeout=="function"&&(q=setTimeout);typeof at.clearTimeout=="function"&&(Y=clearTimeout);function hr(e){if(q===setTimeout)return setTimeout(e,0);if((q===dr||!q)&&setTimeout)return q=setTimeout,setTimeout(e,0);try{return q(e,0)}catch(t){try{return q.call(null,e,0)}catch(r){return q.call(this,e,0)}}}function Kn(e){if(Y===clearTimeout)return clearTimeout(e);if((Y===pr||!Y)&&clearTimeout)return Y=clearTimeout,clearTimeout(e);try{return Y(e)}catch(t){try{return Y.call(null,e)}catch(r){return Y.call(this,e)}}}var H=[],ot=!1,V,At=-1;function Qn(){!ot||!V||(ot=!1,V.length?H=V.concat(H):At=-1,H.length&&vr())}function vr(){if(!ot){var e=hr(Qn);ot=!0;for(var t=H.length;t;){for(V=H,H=[];++At<t;)V&&V[At].run();At=-1,t=H.length}V=null,ot=!1,Kn(e)}}function Zn(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];H.push(new mr(e,t)),H.length===1&&!ot&&hr(vr)}function mr(e,t){this.fun=e,this.array=t}mr.prototype.run=function(){this.fun.apply(null,this.array)};var ti="browser",ei="browser",ri=!0,ni=[],ii="",ai={},oi={},si={};function J(){}var ui=J,ci=J,li=J,fi=J,di=J,pi=J,hi=J;function vi(e){throw new Error("process.binding is not supported")}function mi(){return"/"}function gi(e){throw new Error("process.chdir is not supported")}function _i(){return 0}var st=at.performance||{},yi=st.now||st.mozNow||st.msNow||st.oNow||st.webkitNow||function(){return new Date().getTime()};function bi(e){var t=yi.call(st)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var Ei=new Date;function Ti(){var e=new Date,t=e-Ei;return t/1e3}var gr={nextTick:Zn,title:ti,browser:ri,env:{NODE_ENV:"production"},argv:ni,version:ii,versions:ai,on:ui,addListener:ci,once:li,off:fi,removeListener:di,removeAllListeners:pi,emit:hi,binding:vi,cwd:mi,chdir:gi,umask:_i,hrtime:bi,platform:ei,release:oi,config:si,uptime:Ti};function Lt(){return Object.prototype.toString.call(typeof gr!="undefined"?gr:0)==="[object process]"}function gt(e,t){return e.require(t)}function Si(e){var t;try{t=gt(vt,e)}catch(n){}try{var r=gt(vt,"process").cwd;t=gt(vt,r()+"/node_modules/"+e)}catch(n){}return t}function se(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function wi(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch(a){r.push("[value cannot be serialized]")}}return r.join(t)}function Oi(e,t){return mt(e)?zn(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}var Ii={};function N(){return Lt()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:Ii}function ut(){var e=N(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var a=i.toString(16);a.length<4;)a="0"+a;return a};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}function ki(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function Ri(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function jt(e){var t=N(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(o){o in t.console&&n[o].__sentry_original__&&(i[o]=n[o],n[o]=n[o].__sentry_original__)});var a=e();return Object.keys(i).forEach(function(o){n[o]=i[o]}),a}function xi(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function Ni(e,t){t===void 0&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach(function(r){e.exception.values[0].mechanism[r]=t[r]})}catch(r){}}function Pi(){var e=N();try{return e.document.location.href}catch(t){return""}}var _r=60*1e3;function Ai(e,t){if(!t)return _r;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?_r:n-e}var K=N(),ue="Sentry Logger ",Li=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||jt(function(){K.console.log(ue+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||jt(function(){K.console.warn(ue+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||jt(function(){K.console.error(ue+"[Error]: "+t.join(" "))})},e}();K.__SENTRY__=K.__SENTRY__||{};var ct=K.__SENTRY__.logger||(K.__SENTRY__.logger=new Li),ji=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}(),ce="<anonymous>";function le(e){try{return!e||typeof e!="function"?ce:e.name||ce}catch(t){return ce}}function D(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(a){}e[t]=i}}function Ci(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function yr(e){if(ur(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(cr(e)){var i=e,a={};a.type=i.type;try{a.target=lr(i.target)?ae(i.target):Object.prototype.toString.call(i.target)}catch(s){a.target="<unknown>"}try{a.currentTarget=lr(i.currentTarget)?ae(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(s){a.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&X(e,CustomEvent)&&(a.detail=i.detail);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o]);return a}return e}function Di(e){return~-encodeURI(e).split(/%..|./).length}function Fi(e){return Di(JSON.stringify(e))}function br(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=Er(e,t);return Fi(n)>r?br(e,t-1,r):n}function Mi(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=Tr(e);return ne(r)?r:t}function Tr(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":Xn(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+le(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}function Sr(e,t,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new ji),r===0)return Mi(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=Tr(t,e);if(ne(i))return i;var a=yr(t),o=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var s in a)!Object.prototype.hasOwnProperty.call(a,s)||(o[s]=Sr(s,a[s],r-1,n));return n.unmemoize(t),o}function Er(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return Sr(r,n,t)}))}catch(r){return"**non-serializable**"}}function Hi(e,t){t===void 0&&(t=40);var r=Object.keys(yr(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return se(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:se(i,t)}return""}function _t(e){var t,r;if(Pt(e)){var n=e,i={};try{for(var a=fr(Object.keys(n)),o=a.next();!o.done;o=a.next()){var s=o.value;typeof n[s]!="undefined"&&(i[s]=_t(n[s]))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(_t):e}function fe(){if(!("fetch"in N()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function de(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ui(){if(!fe())return!1;var e=N();if(de(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=de(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){ct.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function Bi(){if(!fe())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function $i(){var e=N(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var T=N(),yt={},wr={};function Ji(e){if(!wr[e])switch(wr[e]=!0,e){case"console":qi();break;case"dom":Xi();break;case"xhr":Wi();break;case"fetch":Yi();break;case"history":zi();break;case"error":Gi();break;case"unhandledrejection":Vi();break;default:ct.warn("unknown instrumentation type:",e)}}function Ki(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(yt[e.type]=yt[e.type]||[],yt[e.type].push(e.callback),Ji(e.type))}function j(e,t){var r,n;if(!(!e||!yt[e]))try{for(var i=fr(yt[e]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(t)}catch(s){ct.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+le(o)+`
Error: `+s)}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function qi(){"console"in T&&["debug","info","warn","error","log","assert"].forEach(function(e){e in T.console&&D(T.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];j("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,T.console,r)}})})}function Yi(){!Ui()||D(T,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:Qi(t),url:Zi(t)},startTimestamp:Date.now()};return j("fetch",G({},n)),e.apply(T,t).then(function(i){return j("fetch",G(G({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw j("fetch",G(G({},n),{endTimestamp:Date.now(),error:i})),i})}})}function Qi(e){return e===void 0&&(e=[]),"Request"in T&&X(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Zi(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in T&&X(e[0],Request)?e[0].url:String(e[0])}function Wi(){if("XMLHttpRequest"in T){var e=[],t=[],r=XMLHttpRequest.prototype;D(r,"open",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this,s=i[1];o.__sentry_xhr__={method:mt(i[0])?i[0].toUpperCase():i[0],url:i[1]},mt(s)&&o.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var c=function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(p){}try{var l=e.indexOf(o);if(l!==-1){e.splice(l);var f=t.splice(l)[0];o.__sentry_xhr__&&f[0]!==void 0&&(o.__sentry_xhr__.body=f[0])}}catch(p){}j("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?D(o,"onreadystatechange",function(l){return function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return c(),l.apply(o,f)}}):o.addEventListener("readystatechange",c),n.apply(o,i)}}),D(r,"send",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.push(this),t.push(i),j("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var Ct;function zi(){if(!$i())return;var e=T.onpopstate;T.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=T.location.href,a=Ct;if(Ct=i,j("history",{from:a,to:i}),e)try{return e.apply(this,r)}catch(o){}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=Ct,s=String(a);Ct=s,j("history",{from:o,to:s})}return r.apply(this,n)}}D(T.history,"pushState",t),D(T.history,"replaceState",t)}var ta=1e3,Dt,Ft;function ea(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}function ra(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch(r){}return!0}function Or(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||Ft===r)&&!ra(r)){var n=r.type==="keypress"?"input":r.type;Dt===void 0?(e({event:r,name:n,global:t}),Ft=r):ea(Ft,r)&&(e({event:r,name:n,global:t}),Ft=r),clearTimeout(Dt),Dt=T.setTimeout(function(){Dt=void 0},ta)}}}function Xi(){if("document"in T){var e=j.bind(null,"dom"),t=Or(e,!0);T.document.addEventListener("click",t,!1),T.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=T[r]&&T[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(D(n,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[a]=l[a]||{refCount:0};if(!f.handler){var p=Or(e);f.handler=p,i.call(this,a,p,s)}f.refCount+=1}catch(h){}return i.call(this,a,o,s)}}),D(n,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[a];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,a,f.handler,s),f.handler=void 0,delete l[a]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(p){}return i.call(this,a,o,s)}}))})}}var pe=null;function Gi(){pe=T.onerror,T.onerror=function(e,t,r,n,i){return j("error",{column:n,error:i,line:r,msg:e,url:t}),pe?pe.apply(this,arguments):!1}}var he=null;function Vi(){he=T.onunhandledrejection,T.onunhandledrejection=function(e){return j("unhandledrejection",e),he?he.apply(this,arguments):!0}}var U;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})(U||(U={}));var Ir=function(){function e(t){var r=this;this._state=U.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(U.RESOLVED,n)},this._reject=function(n){r._setResult(U.REJECTED,n)},this._setResult=function(n,i){if(r._state===U.PENDING){if(ie(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==U.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===U.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===U.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,a=[];t.forEach(function(o,s){e.resolve(o).then(function(c){a[s]=c,i-=1,i===0&&r(a)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,a){n._attachHandler({done:!1,onfulfilled:function(o){if(!t){i(o);return}try{i(t(o));return}catch(s){a(s);return}},onrejected:function(o){if(!r){a(o);return}try{i(r(o));return}catch(s){a(s);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var a,o;return r.then(function(s){o=!1,a=s,t&&t()},function(s){o=!0,a=s,t&&t()}).then(function(){if(o){i(a);return}n(a)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),ve={nowSeconds:function(){return Date.now()/1e3}};function na(){var e=N().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function ia(){try{var e=gt(vt,"perf_hooks");return e.performance}catch(t){return}}var me=Lt()?ia():na(),kr=me===void 0?ve:{nowSeconds:function(){return(me.timeOrigin+me.now())/1e3}},ge=ve.nowSeconds.bind(ve),_e=kr.nowSeconds.bind(kr),aa=_e,oa=function(){var e=N().performance;if(!(!e||!e.now)){var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,a=i<t,o=e.timing&&e.timing.navigationStart,s=typeof o=="number",c=s?Math.abs(o+r-n):t,l=c<t;return a||l?i<=c?e.timeOrigin:o:n}}(),Rr=100,Mt=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=it(t._breadcrumbs),r._tags=m({},t._tags),r._extra=m({},t._extra),r._contexts=m({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=it(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=m(m({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=m(m({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=m(m({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=m(m({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=m(m({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,a=this.getSpan();if((t=a)===null||t===void 0?void 0:t.transaction)return(r=a)===null||r===void 0?void 0:r.transaction;if((i=(n=a)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return a.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=m(m({},this._tags),t._tags),this._extra=m(m({},this._extra),t._extra),this._contexts=m(m({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Pt(t)&&(t=t,this._tags=m(m({},this._tags),t.tags),this._extra=m(m({},this._extra),t.extra),this._contexts=m(m({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,Rr):Rr;if(n<=0)return this;var i=m({timestamp:ge()},t);return this._breadcrumbs=it(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=m(m({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=m(m({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=m(m({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=m(m({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=m({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=m({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=it(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(it(xr(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var a=this;return i===void 0&&(i=0),new Ir(function(o,s){var c=t[i];if(r===null||typeof c!="function")o(r);else{var l=c(m({},r),n);ie(l)?l.then(function(f){return a._notifyEventProcessors(t,f,n,i+1).then(o)}).then(null,s):a._notifyEventProcessors(t,l,n,i+1).then(o).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function xr(){var e=N();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function sa(e){xr().push(e)}var ua=function(){function e(t){this.errors=0,this.sid=ut(),this.duration=0,this.status=$.Ok,this.init=!0,this.ignoreDuration=!1;var r=_e();this.timestamp=r,this.started=r,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||_e(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:ut()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===$.Ok?this.update({status:$.Exited}):this.update()},e.prototype.toJSON=function(){return _t({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:_t({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),ye=4,ca=100,Ht=function(){function e(t,r,n){r===void 0&&(r=new Mt),n===void 0&&(n=ye),this._version=n,this._stack=[{}],this.getStackTop().scope=r,t&&this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=Mt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=ut(),i=r;if(!r){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,m(m({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=ut(),a=n;if(!n){var o=void 0;try{throw new Error(t)}catch(s){o=s}a={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,r,m(m({},a),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=ut();return t.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",t,m(m({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,a=n.client;if(!(!i||!a)){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,c=s===void 0?null:s,l=o.maxBreadcrumbs,f=l===void 0?ca:l;if(!(f<=0)){var p=ge(),h=m({timestamp:p},t),v=c?jt(function(){return c(h,r)}):h;v!==null&&i.addBreadcrumb(v,f)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=be(this);try{t(this)}finally{be(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return ct.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,a;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(a=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||a===void 0||a.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,c=N(),l=(c.navigator||{}).userAgent,f=new ua(m(m(m({release:o,environment:s},n&&{user:n.getUser()}),l&&{userAgent:l}),t));if(n){var p=n.getSession&&n.getSession();p&&p.status===$.Ok&&p.update({status:$.Exited}),this.endSession(),n.setSession(f)}return f},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[t]&&(r=s)[t].apply(r,it(n,[o]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=bt(),a=i.__SENTRY__;if(a&&a.extensions&&typeof a.extensions[t]=="function")return a.extensions[t].apply(this,r);ct.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function bt(){var e=N();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function be(e){var t=bt(),r=B(t);return Ee(t,e),r}function fa(){var e=bt();return(!Nr(e)||B(e).isOlderThan(ye))&&Ee(e,new Ht),Lt()?la(e):B(e)}function la(e){var t,r,n;try{var i=(n=(r=(t=bt().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return B(e);if(!Nr(i)||B(i).isOlderThan(ye)){var a=B(e).getStackTop();Ee(i,new Ht(a.client,Mt.clone(a.scope)))}return B(i)}catch(o){return B(e)}}function Nr(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function B(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Ht),e.__SENTRY__.hub}function Ee(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}});var mn=Ue((oo,St)=>{Zt(oo);Be(oo,{Integrations:()=>as});var d=It(Ut()),ht;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(ht||(ht={}));var Pe=function(e,t){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Pe(e,t)};function Ae(e,t){Pe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _=function(){return _=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_.apply(this,arguments)};function so(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function uo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function tt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sn(arguments[t]));return e}var R;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(R||(R={}));(function(e){function t(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}e.fromHttpCode=t})(R||(R={}));var co=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Le(e){e===void 0&&(e=(t=(0,d.g)().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}function lo(e){var t=e.match(co);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}function Wt(e){e===void 0&&(e=(0,d.g)());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}function w(e){return e/1e3}function fo(e){return e*1e3}function po(){(0,d.E)({callback:un,type:"error"}),(0,d.E)({callback:un,type:"unhandledrejection"})}function un(){var e=Wt();e&&(d.l.log("[Tracing] Transaction: "+R.InternalError+" -> Global error occured"),e.setStatus(R.InternalError))}var cn=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}(),ho=function(){function e(t){if(this.traceId=(0,d.d)(),this.spanId=(0,d.d)().substring(16),this.startTimestamp=(0,d.R)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(_(_({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=_(_({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=_(_({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=R.fromHttpCode(t);return r!==R.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===R.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:(0,d.R)()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return(0,d.T)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,a,o;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(a=t.tags,a!=null?a:{}),this.traceId=(o=t.traceId,o!=null?o:this.traceId),this},e.prototype.getTraceContext=function(){return(0,d.T)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,d.T)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}(),ln=function(e){Ae(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=(0,d.g)(),(0,d.M)(n,d.P)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new cn(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=_({},r)},t.prototype.setMetadata=function(r){this.metadata=_(_({},this.metadata),r)},t.prototype.finish=function(r){var n=this,i,a,o,s,c;if(this.endTimestamp===void 0){if(this.name||(d.l.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){d.l.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),(c=(o=(i=this._hub.getClient())===null||i===void 0?void 0:(a=i).getTransport)===null||o===void 0?void 0:(s=o.call(a)).recordLostEvent)===null||c===void 0||c.call(s,d.O.SampleRate,"transaction");return}var l=this.spanRecorder?this.spanRecorder.spans.filter(function(h){return h!==n&&h.endTimestamp}):[];this._trimEnd&&l.length>0&&(this.endTimestamp=l.reduce(function(h,v){return h.endTimestamp&&v.endTimestamp?h.endTimestamp>v.endTimestamp?h:v:h}).endTimestamp);var f={contexts:{trace:this.getTraceContext()},spans:l,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},p=Object.keys(this._measurements).length>0;return p&&(d.l.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),f.measurements=this._measurements),d.l.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(f)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return(0,d.T)(_(_({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(ho),fn=1e3,vo=5e3,mo=function(e){Ae(t,e);function t(r,n,i,a){i===void 0&&(i="");var o=e.call(this,a)||this;return o._pushActivity=r,o._popActivity=n,o.transactionSpanId=i,o}return t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:(0,d.R)(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(cn),go=function(e){Ae(t,e);function t(r,n,i,a){i===void 0&&(i=fn),a===void 0&&(a=!1);var o=e.call(this,r,n)||this;return o._idleHub=n,o._idleTimeout=i,o._onScope=a,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&a&&(dn(n),d.l.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope(function(s){return s.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return t.prototype.finish=function(r){var n,i,a=this;if(r===void 0&&(r=(0,d.R)()),this._finished=!0,this.activities={},this.spanRecorder){d.l.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var o=uo(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){var c=s.value;c(this,r)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===a.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(R.Cancelled),d.l.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||d.l.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),d.l.log("[Tracing] flushing IdleTransaction")}else d.l.log("[Tracing] No active IdleTransaction");return this._onScope&&dn(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=function(o){n._finished||n._pushActivity(o)},a=function(o){n._finished||n._popActivity(o)};this.spanRecorder=new mo(i,a,this.spanId,r),d.l.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),d.l.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,d.l.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(d.l.log("[Tracing] popActivity "+r),delete this.activities[r],d.l.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,a=(0,d.R)()+i/1e3;setTimeout(function(){n._finished||n.finish(a)},i)}},t.prototype._beat=function(){if(!this._finished){var r=Object.keys(this.activities).join("");r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(d.l.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(R.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;d.l.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout(function(){r._beat()},vo)},t}(ln);function dn(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}function _o(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function pn(e,t,r){if(!Le(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:ht.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:ht.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:ht.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:ht.Rate,rate:Number(n)}})),yo(n)?n?(e.sampled=Math.random()<n,e.sampled?(d.l.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(d.l.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(d.l.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(d.l.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function yo(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(d.l.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(d.l.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}function bo(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},a=new ln(e,this);return a=pn(a,i,_({parentSampled:e.parentSampled,transactionContext:e},t)),a.sampled&&a.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),a}function Eo(e,t,r,n,i){var a,o,s=((a=e.getClient())===null||a===void 0?void 0:a.getOptions())||{},c=new go(t,e,r,n);return c=pn(c,s,_({parentSampled:t.parentSampled,transactionContext:t},i)),c.sampled&&c.initSpanRecorder((o=s._experiments)===null||o===void 0?void 0:o.maxSpans),c}function To(){var e=(0,d.V)();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=bo),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=_o))}function So(){var e=(0,d.V)();if(!!e.__SENTRY__){var t={mongodb:function(){var n=(0,d.X)(St,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=(0,d.X)(St,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=(0,d.X)(St,"./integrations/mysql");return new n.Mysql},pg:function(){var n=(0,d.X)(St,"./integrations/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!(0,d.W)(n)}).map(function(n){try{return t[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=tt(e.__SENTRY__.integrations||[],r))}}function wo(){To(),(0,d.U)()&&So(),po()}var zt=(0,d.z)();function Oo(){zt&&zt.document?zt.document.addEventListener("visibilitychange",function(){var e=Wt();zt.document.hidden&&e&&(d.l.log("[Tracing] Transaction: "+R.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(R.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):d.l.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var je=function(e,t,r){var n;return function(i){t.value>=0&&(i||r)&&(t.delta=t.value-(n||0),(t.delta||n===void 0)&&(n=t.value,e(t)))}},Io=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},Ce=function(e,t){return{name:e,value:t!=null?t:-1,delta:0,entries:[],id:Io()}},De=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(e==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch(n){}},Xt=function(e,t){var r=function(n){(n.type==="pagehide"||(0,d.z)().document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},ko=function(e,t){var r=Ce("CLS",0),n,i=0,a=[],o=function(c){if(c&&!c.hadRecentInput){var l=a[0],f=a[a.length-1];i&&a.length!==0&&c.startTime-f.startTime<1e3&&c.startTime-l.startTime<5e3?(i+=c.value,a.push(c)):(i=c.value,a=[c]),i>r.value&&(r.value=i,r.entries=a,n&&n())}},s=De("layout-shift",o);s&&(n=je(e,r,t),Xt(function(){s.takeRecords().map(o),n(!0)}))},Gt=-1,Ro=function(){return(0,d.z)().document.visibilityState==="hidden"?0:Infinity},xo=function(){Xt(function(e){var t=e.timeStamp;Gt=t},!0)},Fe=function(){return Gt<0&&(Gt=Ro(),xo()),{get firstHiddenTime(){return Gt}}},No=function(e,t){var r=Fe(),n=Ce("FID"),i,a=function(s){i&&s.startTime<r.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),i(!0))},o=De("first-input",a);o&&(i=je(e,n,t),Xt(function(){o.takeRecords().map(a),o.disconnect()},!0))},hn={},Po=function(e,t){var r=Fe(),n=Ce("LCP"),i,a=function(c){var l=c.startTime;l<r.firstHiddenTime&&(n.value=l,n.entries.push(c)),i&&i()},o=De("largest-contentful-paint",a);if(o){i=je(e,n,t);var s=function(){hn[n.id]||(o.takeRecords().map(a),o.disconnect(),hn[n.id]=!0,i(!0))};["keydown","click"].forEach(function(c){addEventListener(c,s,{once:!0,capture:!0})}),Xt(s,!0)}},x=(0,d.z)(),Ao={_reportAllChanges:!1},Do=function(){function e(t){var r,n;this._measurements={},this._performanceCursor=0,!(0,d.U)()&&((r=x)===null||r===void 0?void 0:r.performance)&&((n=x)===null||n===void 0?void 0:n.document)&&(x.performance.mark&&x.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(t._reportAllChanges),this._trackFID())}return e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!x||!x.performance||!x.performance.getEntries||!d.Y)){d.l.log("[Tracing] Adding & adjusting spans using Performance API");var n=w(d.Y),i;if(x.document&&x.document.scripts){for(var a=0;a<x.document.scripts.length;a++)if(x.document.scripts[a].dataset.entry==="true"){i=x.document.scripts[a].src;break}}var o,s,c,l;if(x.performance.getEntries().slice(this._performanceCursor).forEach(function(p){var h=w(p.startTime),v=w(p.duration);if(!(t.op==="navigation"&&n+h<t.startTimestamp))switch(p.entryType){case"navigation":{Lo(t,p,n),c=n+w(p.responseStart),l=n+w(p.requestStart);break}case"mark":case"paint":case"measure":{var g=jo(t,p,h,v,n);s===void 0&&p.name==="sentry-tracing-init"&&(s=g);var y=Fe(),E=p.startTime<y.firstHiddenTime;p.name==="first-paint"&&E&&(d.l.log("[Measurements] Adding FP"),r._measurements.fp={value:p.startTime},r._measurements["mark.fp"]={value:g}),p.name==="first-contentful-paint"&&E&&(d.l.log("[Measurements] Adding FCP"),r._measurements.fcp={value:p.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var L=p.name.replace(x.location.origin,""),O=Co(t,p,L,h,v,n);o===void 0&&(i||"").indexOf(L)>-1&&(o=O);break}}}),o!==void 0&&s!==void 0&&et(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var f=w(d.Y);typeof c=="number"&&(d.l.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-t.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(p){if(!(!r._measurements[p]||f>=t.startTimestamp)){var h=r._measurements[p].value,v=f+w(h),g=Math.abs((v-t.startTimestamp)*1e3),y=g-h;d.l.log("[Measurements] Normalized "+p+" from "+h+" to "+g+" ("+y+")"),r._measurements[p].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&et(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+w(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(d.l.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",(0,d.K)(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(d.l.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(r,n){return t.setTag("cls.source."+(n+1),(0,d.K)(r.node))}))},e.prototype._trackCLS=function(){var t=this;ko(function(r){var n=r.entries.pop();!n||(d.l.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=x.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Vt(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Vt(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Vt(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),Vt(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(t){var r=this;Po(function(n){var i=n.entries.pop();if(!!i){var a=w(d.Y),o=w(i.startTime);d.l.log("[Measurements] Adding LCP"),r._measurements.lcp={value:n.value},r._measurements["mark.lcp"]={value:a+o},r._lcpEntry=i}},t)},e.prototype._trackFID=function(){var t=this;No(function(r){var n=r.entries.pop();if(!!n){var i=w(d.Y),a=w(n.startTime);d.l.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+a}}})},e}();function Lo(e,t,r){W({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),W({transaction:e,entry:t,event:"redirect",timeOrigin:r}),W({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),W({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),W({transaction:e,entry:t,event:"connect",timeOrigin:r}),W({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),W({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),W({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),Fo(e,t,r)}function jo(e,t,r,n,i){var a=i+r,o=a+n;return et(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}function Co(e,t,r,n,i,a){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+n,c=s+i;return et(e,{description:r,endTimestamp:c,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:o}),c}}function W(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,a=e.eventEnd,o=e.description,s=a?r[a]:r[n+"End"],c=r[n+"Start"];!c||!s||et(t,{op:"browser",description:o!=null?o:n,startTimestamp:i+w(c),endTimestamp:i+w(s)})}function Fo(e,t,r){et(e,{op:"browser",description:"request",startTimestamp:r+w(t.requestStart),endTimestamp:r+w(t.responseEnd)}),et(e,{op:"browser",description:"response",startTimestamp:r+w(t.responseStart),endTimestamp:r+w(t.responseEnd)})}function et(e,t){var r=t.startTimestamp,n=so(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(_({startTimestamp:r},n))}function Vt(e){return typeof e=="number"&&isFinite(e)}var Mo=["localhost",/^\//],Jt={traceFetch:!0,traceXHR:!0,tracingOrigins:Mo};function Bo(e){var t=_(_({},Jt),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,a=t.shouldCreateSpanForRequest,o={},s=function(f){if(o[f])return o[f];var p=i;return o[f]=p.some(function(h){return(0,d.m)(f,h)})&&!(0,d.m)(f,"sentry_key"),o[f]},c=s;typeof a=="function"&&(c=function(f){return s(f)&&a(f)});var l={};r&&(0,d.E)({callback:function(f){Ho(f,c,l)},type:"fetch"}),n&&(0,d.E)({callback:function(f){Uo(f,c,l)},type:"xhr"})}function Ho(e,t,r){if(!(!Le()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(R.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=Wt();if(i){var n=i.startChild({data:_(_({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var a=e.args[0]=e.args[0],o=e.args[1]=e.args[1]||{},s=o.headers;(0,d.M)(a,Request)&&(s=a.headers),s?typeof s.append=="function"?s.append("sentry-trace",n.toTraceparent()):Array.isArray(s)?s=tt(s,[["sentry-trace",n.toTraceparent()]]):s=_(_({},s),{"sentry-trace":n.toTraceparent()}):s={"sentry-trace":n.toTraceparent()},o.headers=s}}}function Uo(e,t,r){var n,i;if(!(!Le()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var a=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var o=r[e.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(a.status_code),o.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var s=Wt();if(s){var o=s.startChild({data:_(_({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=o.spanId,r[e.xhr.__sentry_xhr_span_id__]=o,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(l){}}}}var wt=(0,d.z)();function $o(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!wt||!wt.location){d.l.warn("Could not initialize routing instrumentation due to invalid location");return}var n=wt.location.href,i;t&&(i=e({name:wt.location.pathname,op:"pageload"})),r&&(0,d.E)({callback:function(a){var o=a.to,s=a.from;if(s===void 0&&n&&n.indexOf(o)!==-1){n=void 0;return}s!==o&&(n=void 0,i&&(d.l.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:wt.location.pathname,op:"navigation"}))},type:"history"})}var qo=600,Yo=_({idleTimeout:fn,markBackgroundTransactions:!0,maxTransactionDuration:qo,routingInstrumentation:$o,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Jt),Xo=function(){function e(t){this.name=e.id,this._emitOptionsWarning=!1;var r=Jt.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=_(_(_({},Yo),t),{tracingOrigins:r}),this._metrics=new Do(_(_({},Ao),this.options._metricOptions))}return e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(d.l.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),d.l.warn("[Tracing] We added a reasonable default for you: "+Jt.tracingOrigins));var i=this.options,a=i.routingInstrumentation,o=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,p=i.tracingOrigins,h=i.shouldCreateSpanForRequest;a(function(v){return n._createRouteTransaction(v)},s,o),c&&Oo(),Bo({traceFetch:l,traceXHR:f,tracingOrigins:p,shouldCreateSpanForRequest:h})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){d.l.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,a=n.idleTimeout,o=n.maxTransactionDuration,s=t.op==="pageload"?Wo():void 0,c=_(_(_({},t),s),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?_(_({},c),{sampled:!1}):l;f.sampled===!1&&d.l.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),d.l.log("[Tracing] Starting "+f.op+" transaction on scope");var p=this._getCurrentHub(),h=(0,d.z)().location,v=Eo(p,f,a,!0,{location:h});return v.registerBeforeFinishCallback(function(g,y){r._metrics.addPerformanceEntries(g),zo(fo(o),g,y)}),v},e.id="BrowserTracing",e}();function Wo(){var e=Go("sentry-trace");if(e)return lo(e)}function Go(e){var t=(0,d.z)().document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}function zo(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(R.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}var Jo=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){if(!this._router){d.l.error("ExpressIntegration is missing an Express instance");return}Vo(this._router,this._methods)},e.id="Express",e}();function vn(e,t){var r=e.length;switch(r){case 2:return function(n,i){var a=i.__sentry_transaction;if(a){var o=a.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){o.finish()})}return e.call(this,n,i)};case 3:return function(n,i,a){var o,s=i.__sentry_transaction,c=(o=s)===null||o===void 0?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var p;(p=c)===null||p===void 0||p.finish(),a.call.apply(a,tt([this],l))})};case 4:return function(n,i,a,o){var s,c=a.__sentry_transaction,l=(s=c)===null||s===void 0?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,a,function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var h;(h=l)===null||h===void 0||h.finish(),o.call.apply(o,tt([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}function Ko(e,t){return e.map(function(r){return typeof r=="function"?vn(r,t):Array.isArray(r)?r.map(function(n){return typeof n=="function"?vn(n,t):n}):r})}function Qo(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,tt([this],Ko(n,t)))},e}function Vo(e,t){t===void 0&&(t=[]),t.forEach(function(r){return Qo(e,r)})}var Zo=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._usePgNative=!!t.usePgNative}return e.prototype.setupOnce=function(t,r){var n,i=(0,d.W)("pg");if(!i){d.l.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!((n=i.native)===null||n===void 0?void 0:n.Client)){d.l.error("Postgres Integration was unable to access 'pg-native' bindings.");return}var a=(this._usePgNative?i.native:i).Client;(0,d.H)(a.prototype,"query",function(o){return function(s,c,l){var f,p,h,v=r().getScope(),g=(f=v)===null||f===void 0?void 0:f.getSpan(),y=(p=g)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof l=="function")return o.call(this,s,c,function(L,O){var P;(P=y)===null||P===void 0||P.finish(),l(L,O)});if(typeof c=="function")return o.call(this,s,function(L,O){var P;(P=y)===null||P===void 0||P.finish(),c(L,O)});var E=typeof c!="undefined"?o.call(this,s,c):o.call(this,s);return(0,d.h)(E)?E.then(function(L){var O;return(O=y)===null||O===void 0||O.finish(),L}):((h=y)===null||h===void 0||h.finish(),E)}})},e.id="Postgres",e}(),ts=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){var n=(0,d.W)("mysql/lib/Connection.js");if(!n){d.l.error("Mysql Integration was unable to require `mysql` package.");return}(0,d.H)(n,"createQuery",function(i){return function(a,o,s){var c,l,f=r().getScope(),p=(c=f)===null||c===void 0?void 0:c.getSpan(),h=(l=p)===null||l===void 0?void 0:l.startChild({description:typeof a=="string"?a:a.sql,op:"db"});return typeof s=="function"?i.call(this,a,o,function(v,g,y){var E;(E=h)===null||E===void 0||E.finish(),s(v,g,y)}):typeof o=="function"?i.call(this,a,function(v,g,y){var E;(E=h)===null||E===void 0||E.finish(),o(v,g,y)}):i.call(this,a,o,s)}})},e.id="Mysql",e}(),es=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],rs={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},ns=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:es,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(t,r){var n=this._useMongoose?"mongoose":"mongodb",i=(0,d.W)(n);if(!i){d.l.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},e.prototype._instrumentOperations=function(t,r,n){var i=this;r.forEach(function(a){return i._patchOperation(t,a,n)})},e.prototype._patchOperation=function(t,r,n){if(r in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,d.H)(t.prototype,r,function(a){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c,l,f,p,h=o[o.length-1],v=n().getScope(),g=(c=v)===null||c===void 0?void 0:c.getSpan();if(typeof h!="function"||r==="mapReduce"&&o.length===2){var y=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,o)),E=a.call.apply(a,tt([this],o));return(0,d.h)(E)?E.then(function(O){var P;return(P=y)===null||P===void 0||P.finish(),O}):((f=y)===null||f===void 0||f.finish(),E)}var L=(p=g)===null||p===void 0?void 0:p.startChild(i(this,r,o.slice(0,-1)));return a.call.apply(a,tt([this],o.slice(0,-1),[function(O,P){var Qt;(Qt=L)===null||Qt===void 0||Qt.finish(),h(O,P)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,r,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},a={op:"db",description:r,data:i},o=rs[r],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!o||!s)return a;try{if(r==="mapReduce"){var c=sn(n,2),l=c[0],f=c[1];i[o[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[o[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var p=0;p<o.length;p++)i[o[p]]=JSON.stringify(n[p])}catch(h){}return a},e.id="Mongo",e}(),is=Object.freeze({__proto__:null,Express:Jo,Postgres:Zo,Mysql:ts,Mongo:ns}),as=_(_({},is),{BrowserTracing:Xo});wo()});import{html as k,render as gn}from"https://cdn.skypack.dev/uhtml/async";function Nn(e){for(var t=0,r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return t}function Pn(e){var t=(e&16777215).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}var $e=e=>Pn(Nn(e));import{html as Ye}from"https://cdn.skypack.dev/uhtml/async";import An from"https://cdn.skypack.dev/@jacobmarshall/kv";var qe=e=>`https://images.weserv.nl/?url=${encodeURI(e)}&w=100&h=100&fit=cover&a=attention`;var te=An("thumbnailAlternative"),kt=async(e,t)=>{var o,s;let r=t==null?void 0:t.replace(/[^A-Z]/g,"").split("").map(c=>c.substr(0,1)),n=await te.get(t);n===void 0&&(n=e);let i=()=>Ye`<div class="image-alternative" style=${`--color: #${$e(t)}`}>
            <span>${r.join("")}</span>
        </div>`;if(n===void 0){let c=`https://en.wikipedia.org/w/api.php?action=query&origin=*&titles=${t}&prop=pageimages&format=json&pithumbsize=400`,f=await(await fetch(c,{method:"GET"})).json(),[p]=Object.keys(f.query.pages);n=(s=(o=f.query.pages[p].thumbnail)==null?void 0:o.source)!=null?s:!1,await te.set(t,n)}let a=async c=>{A(),await te.set(t,!1)};return n===!1?i():Ye`<img onerror=${[a,{once:!0}]} class="image" src=${qe(n)} />`};import{html as ze}from"https://cdn.skypack.dev/uhtml/async";function We(e,t,r=!1){var n;return function(){var i=this,a=arguments,o=function(){n=null,r||e.apply(i,a)},s=r&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(i,a)}}var Ln=e=>e.split(/\/|#/).pop(),jn=async e=>{if(e.target.value.length<4)return;let t=`
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX dbo:  <http://dbpedia.org/ontology/>
        PREFIX bif: <bif:>
        PREFIX foaf: <http://xmlns.com/foaf/0.1/>
    
        SELECT DISTINCT ?uri ?label ?image {
            ?uri rdfs:label ?label .
            ?uri a <http://xmlns.com/foaf/0.1/Person> .
            ?uri dbo:thumbnail ?image .
            ?label bif:contains '"${e.target.value}"' .
            filter langMatches(lang(?label), "en")
        }
    
        LIMIT 10        
    `,r=`https://dbpedia.org/sparql?query=${encodeURIComponent(t)}&format=json`,i=await(await fetch(r,{method:"GET",headers:{Accept:"application/sparql-results+json"}})).json();Rt(i.results.bindings.map(a=>({label:a.label.value,image:a.image.value,id:Ln(a.uri.value)}))),A()},Xe=()=>ze`
        <form class="search-form" onsubmit=${e=>e.preventDefault()}>
            <label>Please search for a philosopher or influential thinker</label>
            <input onkeyup=${We(jn,500)} type="search" class="search-input">

            ${xt.map(e=>ze`
                <a class="suggestion" href=${`/${e.id}`} onclick=${()=>Rt([])}>
                    ${kt(e.image,e.label)}
                    <h3 class="title">${e.label}</h3>
                </div>
            `)}

        </form>
    `;var Cn=e=>e==="person"?"dbo:influenced|^dbo:influencedBy":"dbo:influencedBy|^dbo:influenced",Dn=(e,t)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT (REPLACE(STR(?person), "http://dbpedia.org/resource/", "") as ?id) ?label ?image ?abstract ?birth ?death
    WHERE {
        <http://dbpedia.org/resource/${e}> rdfs:label ?label .

        BIND (<http://dbpedia.org/resource/${e}> as ?person)
   

        OPTIONAL { <http://dbpedia.org/resource/${e}> dbo:abstract  ?abstract }

        OPTIONAL {?person dbo:activeYearsStartYear ?activeYearsStartYear}
        OPTIONAL {?person dbp:activeYearsStartYear ?activeYearsStartYearProperty}

        OPTIONAL {?person dbo:birthYear ?birthYear}
        OPTIONAL {?person dbo:deathYear ?deathYear}

        OPTIONAL {?person dbo:birthDate ?birthDate}
        OPTIONAL {?person dbo:deathDate ?deathDate}

        BIND (COALESCE(?deathDate, ?deathYear) as ?death)
        BIND (COALESCE(?birthDate, ?birthYear, ?activeYearsStartYear, ?activeYearsStartYearProperty) as ?birth)

        OPTIONAL {<http://dbpedia.org/resource/${e}> foaf:depiction ?image }
        FILTER (lang(?label) = '${t}')
        FILTER (lang(?abstract) = '${t}')
    }
`,Ge=(e,t,r)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT ?abstract ?label ?image (REPLACE(STR(?item), "http://dbpedia.org/resource/", "") as ?id)
    WHERE {
        <http://dbpedia.org/resource/${e}> ${r} ?item .
        ?item dbo:abstract ?abstract .
        ?item rdfs:label ?label .

        OPTIONAL {?item foaf:depiction ?image}
        FILTER (lang(?label) = '${t}')
        FILTER (lang(?abstract) = '${t}')
    }
    ORDER BY ASC(?date)
`,Fn=(e,t)=>Ge(e,t,"dbo:mainInterest"),Mn=(e,t)=>Ge(e,t,"dbo:notableIdea"),Hn=(e,t)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT ?abstract ?label ?pages ?date ?image (REPLACE(STR(?work), "http://dbpedia.org/resource/", "") as ?id)
    WHERE {
        ?work dbo:author <http://dbpedia.org/resource/${e}> .
        ?work dbo:abstract ?abstract .
        ?work dbp:name ?label .

        OPTIONAL {?work dbo:numberOfPages ?pages}
        
        OPTIONAL {?work dbo:releaseDate ?releaseDate}
        OPTIONAL {?work dbp:releaseDate ?releaseDateProperty}
        BIND (COALESCE(?releaseDate, ?releaseDateProperty) as ?date)

        OPTIONAL {?work foaf:depiction ?image}
        FILTER (lang(?label) = '${t}')
        FILTER (lang(?abstract) = '${t}')
    }
    ORDER BY ASC(?date)
`,Ve=(e,t,r)=>`
    PREFIX foaf: <http://xmlns.com/foaf/0.1/>
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbp: <http://dbpedia.org/property/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT (REPLACE(STR(?person), "http://dbpedia.org/resource/", "") as ?id) ?label ?image ?birth ?death
    WHERE {
        ?person rdfs:label ?label .
        { SELECT DISTINCT ?person { <http://dbpedia.org/resource/${e}> ${Cn(t)} ?person . }}

        OPTIONAL {?person dbo:activeYearsStartYear ?activeYearsStartYear}
        OPTIONAL {?person dbp:activeYearsStartYear ?activeYearsStartYearProperty}

        OPTIONAL {?person foaf:depiction ?image }

        OPTIONAL {?person dbo:birthYear ?birthYear}
        OPTIONAL {?person dbo:deathYear ?deathYear}

        OPTIONAL {?person dbo:birthDate ?birthDate}
        OPTIONAL {?person dbo:deathDate ?deathDate}

        BIND (COALESCE(?deathDate, ?deathYear) as ?death)
        BIND (COALESCE(?birthDate, ?birthYear, ?activeYearsStartYear, ?activeYearsStartYearProperty) as ?birth)

        FILTER isIRI(?person) 
        FILTER exists { ?person a schema:Person }
        FILTER (lang(?label) = '${r}')
    }
    ORDER BY ASC(?birth)

    LIMIT 1000
`,Je=new Map,rt=async e=>{let t=Je.get(e);if(!t){let r=e.replaceAll(`
`," ");t=await(await fetch(`https://dbpedia.org/sparql?default-graph-uri=http://dbpedia.org&query=${r}&format=application/json-ld`)).json(),Je.set(e,t)}return t},nt=(e,t=!1)=>{let r=e.head.vars,n=e.results.bindings.map(i=>{var o;let a={};for(let s of r)a[s]=(o=i[s])==null?void 0:o.value;return a});return t?n[0]:n},ee=async(e,t="en")=>{let r=await rt(Dn(e,t));return nt(r,!0)},Ke=async(e,t="en")=>{let r=await rt(Ve(e,"person",t));return nt(r)},Qe=async(e,t="en")=>{let r=await rt(Ve(e,"others",t));return nt(r)},Ze=async(e,t="en")=>{let r=await rt(Hn(e,t));return nt(r)},tr=async(e,t="en")=>{let r=await rt(Fn(e,t));return nt(r)},er=async(e,t="en")=>{let r=await rt(Mn(e,t));return nt(r)};var Un={37:1,38:1,39:1,40:1};function z(e){e.preventDefault()}function rr(e){if(Un[e.keyCode])return z(e),!1}var nr=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){nr=!0}}))}catch(e){}var Nt=nr?{passive:!1}:!1,ir="onwheel"in document.createElement("div")?"wheel":"mousewheel";function ar(e){e.addEventListener("DOMMouseScroll",z,!1),e.addEventListener(ir,z,Nt),e.addEventListener("touchmove",z,Nt),e.addEventListener("keydown",rr,!1)}function or(e){e.removeEventListener("DOMMouseScroll",z,!1),e.removeEventListener(ir,z,Nt),e.removeEventListener("touchmove",z,Nt),e.removeEventListener("keydown",rr,!1)}var u=It(Ut()),lt=It(Ut());var Te=function(e,t){return Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Te(e,t)};function Bt(e,t){Te(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var b=function(){return b=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},b.apply(this,arguments)};function Pr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $t(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Q(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($t(arguments[t]));return e}var F;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(F||(F={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=t})(F||(F={}));var Z;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(Z||(Z={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}e.fromHttpCode=t})(Z||(Z={}));function da(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function pa(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(da(arguments[t]));return e}function ha(e){e.then(null,function(t){console.error(t)})}var ga=Object.setPrototypeOf||({__proto__:[]}instanceof Array?va:ma);function va(e,t){return e.__proto__=t,e}function ma(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}var S=function(e){(0,u._)(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,ga(i,n.prototype),i}return t}(Error),_a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Et="Invalid Dsn",Ar=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,a=r.pass,o=r.port,s=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(t&&a?":"+a:"")+("@"+n+(o?":"+o:"")+"/"+(i&&i+"/")+s)},e.prototype._fromString=function(t){var r=_a.exec(t);if(!r)throw new S(Et);var n=(0,u.a)(r.slice(1),6),i=n[0],a=n[1],o=n[2],s=o===void 0?"":o,c=n[3],l=n[4],f=l===void 0?"":l,p=n[5],h="",v=p,g=v.split("/");if(g.length>1&&(h=g.slice(0,-1).join("/"),v=g.pop()),v){var y=v.match(/^\d+/);y&&(v=y[0])}this._fromComponents({host:c,pass:s,path:h,projectId:v,port:f,protocol:i,publicKey:a})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new S(Et+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new S(Et+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new S(Et+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new S(Et+": Invalid port "+this.port)},e}(),ya=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return u.S.reject(new S("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new u.S(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);u.S.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}();function Lr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=(0,u.g)();if(n&&n[e])return n[e].apply(n,pa(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function ba(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return Lr("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function Ea(e){Lr("withScope",e)}var jr="7",Cr=function(){function e(t,r,n){r===void 0&&(r={}),this.dsn=t,this._dsnObject=new Ar(t),this.metadata=r,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this.getDsn(),i=["Sentry sentry_version="+jr];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var a in t)if(a!=="dsn")if(a==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),r={sentry_key:t.publicKey,sentry_version:jr};return(0,u.u)(r)},e}();var I=function(){return I=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},I.apply(this,arguments)};function Ta(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Sa(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function M(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wa(arguments[t]));return e}var Dr=[];function Fr(e){return e.reduce(function(t,r){return t.every(function(n){return r.name!==n.name})&&t.push(r),t},[])}function Oa(e){var t=e.defaultIntegrations&&M(e.defaultIntegrations)||[],r=e.integrations,n=M(Fr(t));Array.isArray(r)?n=M(n.filter(function(o){return r.every(function(s){return s.name!==o.name})}),Fr(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(o){return o.name}),a="Debug";return i.indexOf(a)!==-1&&n.push.apply(n,M(n.splice(i.indexOf(a),1))),n}function Ia(e){Dr.indexOf(e.name)===-1&&(e.setupOnce(u.b,u.g),Dr.push(e.name),u.l.log("Integration installed: "+e.name))}function ka(e){var t={};return Oa(e).forEach(function(r){t[r.name]=r,Ia(r)}),Object.defineProperty(t,"initialized",{value:!0}),t}var Ra=function(){function e(t,r){this._integrations={},this._numProcessing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new Ar(r.dsn))}return e.prototype.captureException=function(t,r,n){var i=this,a=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(o){return i._captureEvent(o,r,n)}).then(function(o){a=o})),a},e.prototype.captureMessage=function(t,r,n,i){var a=this,o=n&&n.event_id,s=(0,u.i)(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(c){return a._captureEvent(c,n,i)}).then(function(c){o=c})),o},e.prototype.captureEvent=function(t,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(a){i=a})),i},e.prototype.captureSession=function(t){if(!this._isEnabled()){u.l.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?u.l.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(t){var r=this;return this._isClientDoneProcessing(t).then(function(n){return r.getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ka(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(r){return u.l.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,a=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;try{for(var c=Sa(s),l=c.next();!l.done;l=c.next()){var f=l.value,p=f.mechanism;if(p&&p.handled===!1){a=!0;break}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}var h=t.status===u.c.Ok,v=h&&t.errors===0||h&&a;v&&(t.update(I(I({},a&&{status:u.c.Crashed}),{errors:t.errors||Number(o||a)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var r=this;return new u.S(function(n){var i=0,a=1,o=setInterval(function(){r._numProcessing==0?(clearInterval(o),n(!0)):(i+=a,t&&i>=t&&(clearInterval(o),n(!1)))},a)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,r,n){var i=this,a=this.getOptions().normalizeDepth,o=a===void 0?3:a,s=I(I({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,u.d)()),timestamp:t.timestamp||(0,u.e)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var c=r;n&&n.captureContext&&(c=u.f.clone(c).update(n.captureContext));var l=u.S.resolve(s);return c&&(l=c.applyToEvent(s,n)),l.then(function(f){return typeof o=="number"&&o>0?i._normalizeEvent(f,o):f})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=I(I(I(I(I({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(o){return I(I({},o),o.data&&{data:(0,u.n)(o.data,r)})})}),t.user&&{user:(0,u.n)(t.user,r)}),t.contexts&&{contexts:(0,u.n)(t.contexts,r)}),t.extra&&{extra:(0,u.n)(t.extra,r)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);var i=this.getOptions()._experiments,a=i===void 0?{}:i;return a.ensureNoCircularStructures?(0,u.n)(n):n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,a=r.dist,o=r.maxValueLength,s=o===void 0?250:o;"environment"in t||(t.environment="environment"in r?n:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=(0,u.t)(t.message,s));var c=t.exception&&t.exception.values&&t.exception.values[0];c&&c.value&&(c.value=(0,u.t)(c.value,s));var l=t.request;l&&l.url&&(l.url=(0,u.t)(l.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var r=Object.keys(this._integrations);r.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=M(t.sdk.integrations||[],r))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){u.l.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,a,o,s=this.getOptions(),c=s.beforeSend,l=s.sampleRate,f=this.getTransport();if(!this._isEnabled())return u.S.reject(new S("SDK not enabled, will not capture event."));var p=t.type==="transaction";return!p&&typeof l=="number"&&Math.random()>l?((o=(a=f).recordLostEvent)===null||o===void 0||o.call(a,u.O.SampleRate,"event"),u.S.reject(new S("Discarding event because it's not included in the random sample (sampling rate = "+l+")"))):this._prepareEvent(t,n,r).then(function(h){var v,g;if(h===null)throw(g=(v=f).recordLostEvent)===null||g===void 0||g.call(v,u.O.EventProcessor,t.type||"event"),new S("An event processor returned null, will not send event.");var y=r&&r.data&&r.data.__sentry__===!0;if(y||p||!c)return h;var E=c(h,r);return i._ensureBeforeSendRv(E)}).then(function(h){var v,g;if(h===null)throw(g=(v=f).recordLostEvent)===null||g===void 0||g.call(v,u.O.BeforeSend,t.type||"event"),new S("`beforeSend` returned `null`, will not send event.");var y=n&&n.getSession&&n.getSession();return!p&&y&&i._updateSessionFromEvent(y,h),i._sendEvent(h),h}).then(null,function(h){throw h instanceof S?h:(i.captureException(h,{data:{__sentry__:!0},originalException:h}),new S(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+h))})},e.prototype._process=function(t){var r=this;this._numProcessing+=1,t.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},e.prototype._ensureBeforeSendRv=function(t){var r="`beforeSend` method has to return `null` or a valid event.";if((0,u.h)(t))return t.then(function(n){if(!((0,u.j)(n)||n===null))throw new S(r);return n},function(n){throw new S("beforeSend rejected with "+n)});if(!((0,u.j)(t)||t===null))throw new S(r);return t},e}(),xa=function(){function e(){}return e.prototype.sendEvent=function(t){return u.S.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Z.Skipped})},e.prototype.close=function(t){return u.S.resolve(!0)},e}(),Na=function(){function e(t){this._options=t,this._options.dsn||u.l.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,r){throw new S("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new S("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){u.l.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){u.l.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){u.l.error("Error while sending session: "+r)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new xa},e}();function Mr(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,r=t.name,n=t.version;return{name:r,version:n}}}function Pa(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=M(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=M(e.sdk.packages||[],t.packages||[])),e}function Hr(e,t){var r=Mr(t),n=JSON.stringify(I(I({sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",a=JSON.stringify({type:i});return{body:n+`
`+a+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function Ur(e,t){var r=Mr(t),n=e.type||"event",i=n==="transaction"||t.forceEnvelope(),a=e.debug_meta||{},o=a.transactionSampling,s=Ta(a,["transactionSampling"]),c=o||{},l=c.method,f=c.rate;Object.keys(s).length===0?delete e.debug_meta:e.debug_meta=s;var p={body:JSON.stringify(r?Pa(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var h=JSON.stringify(I(I({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),v=JSON.stringify({type:n,sample_rates:[{id:l,rate:f}]}),g=h+`
`+v+`
`+p.body;p.body=g}return p}function Aa(e,t){var r;t.debug===!0&&u.l.enable();var n=(0,u.g)();(r=n.getScope())===null||r===void 0||r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var Br="6.13.3",$r,qr=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){$r=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return $r.apply(n,t)}},e.id="FunctionToString",e}(),La=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Yr=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,u.b)(function(t){var r=(0,u.g)();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),a=i?i.getOptions():{},o=typeof n._mergeOptions=="function"?n._mergeOptions(a):{};return typeof n._shouldDropEvent!="function"?t:n._shouldDropEvent(t,o)?null:t}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(u.l.warn(`Event dropped due to being internal Sentry Error.
Event: `+(0,u.k)(t)),!0):this._isIgnoredError(t,r)?(u.l.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,u.k)(t)),!0):this._isDeniedUrl(t,r)?(u.l.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,u.k)(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,r)?!1:(u.l.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,u.k)(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(t,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return(0,u.m)(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return n?r.denyUrls.some(function(i){return(0,u.m)(n,i)}):!1},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return n?r.allowUrls.some(function(i){return(0,u.m)(n,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:M(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:M(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:M(this._options.ignoreErrors||[],t.ignoreErrors||[],La),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=n===void 0?"":n,a=r.value,o=a===void 0?"":a;return[""+o,i+": "+o]}catch(s){return u.l.error("Cannot extract message for event "+(0,u.k)(t)),[]}return[]},e.prototype._getLastValidUrl=function(t){t===void 0&&(t=[]);for(var r,n,i=t.length-1;i>=0;i--){var a=t[i];if(((r=a)===null||r===void 0?void 0:r.filename)!=="<anonymous>"&&((n=a)===null||n===void 0?void 0:n.filename)!=="[native code]")return a.filename||null}return null},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return this._getLastValidUrl(r)}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(i){return u.l.error("Cannot extract url for event "+(0,u.k)(t)),null}},e.id="InboundFilters",e}(),ja=Object.freeze({__proto__:null,FunctionToString:qr,InboundFilters:Yr}),ft="?",Ca=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Da=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Fa=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ma=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ha=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ua=/Minified React error #\d+;/i;function Tt(e){var t=null,r=0;e&&(typeof e.framesToPop=="number"?r=e.framesToPop:Ua.test(e.message)&&(r=1));try{if(t=$a(e),t)return Wr(t,r)}catch(n){}try{if(t=Ba(e),t)return Wr(t,r)}catch(n){}return{message:Se(e),name:e&&e.name,stack:[],failed:!0}}function Ba(e){var t,r;if(!e||!e.stack)return null;for(var n=[],i=e.stack.split(`
`),a,o,s,c,l=0;l<i.length;++l){if(s=Ca.exec(i[l])){var f=s[2]&&s[2].indexOf("native")===0;a=s[2]&&s[2].indexOf("eval")===0,a&&(o=Ha.exec(s[2]))&&(s[2]=o[1],s[3]=o[2],s[4]=o[3]);var p=s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],h=s[1]||ft;t=$t(zr(h,p),2),h=t[0],p=t[1],c={url:p,func:h,args:f?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=Fa.exec(i[l]))c={url:s[2],func:s[1]||ft,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=Da.exec(i[l])){a=s[3]&&s[3].indexOf(" > eval")>-1,a&&(o=Ma.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=o[1],s[4]=o[2],s[5]=""):l===0&&!s[5]&&e.columnNumber!==void 0&&(n[0].column=e.columnNumber+1);var p=s[3],h=s[1]||ft;r=$t(zr(h,p),2),h=r[0],p=r[1],c={url:p,func:h,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null}}else continue;!c.func&&c.line&&(c.func=ft),n.push(c)}return n.length?{message:Se(e),name:e.name,stack:n}:null}function $a(e){if(!e||!e.stacktrace)return null;for(var t=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.split(`
`),a=[],o,s=0;s<i.length;s+=2){var c=null;(o=r.exec(i[s]))?c={url:o[2],func:o[3],args:[],line:+o[1],column:null}:(o=n.exec(i[s]))&&(c={url:o[6],func:o[3]||o[4],args:o[5]?o[5].split(","):[],line:+o[1],column:+o[2]}),c&&(!c.func&&c.line&&(c.func=ft),a.push(c))}return a.length?{message:Se(e),name:e.name,stack:a}:null}var zr=function(e,t){var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:ft,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function Wr(e,t){try{return b(b({},e),{stack:e.stack.slice(t)})}catch(r){return e}}function Se(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}var qa=50;function Xr(e){var t=we(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Ya(e,t,r){var n={exception:{values:[{type:(0,u.o)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+(0,u.p)(e)}]},extra:{__serialized__:(0,u.q)(e)}};if(t){var i=Tt(t),a=we(i.stack);n.stacktrace={frames:a}}return n}function Gr(e){var t=Xr(e);return{exception:{values:[t]}}}function we(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),n.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,qa).map(function(i){return{colno:i.column===null?void 0:i.column,filename:i.url||t[0].url,function:i.func||"?",in_app:!0,lineno:i.line===null?void 0:i.line}}).reverse()}function Wa(e,t,r){var n=r&&r.syntheticException||void 0,i=Oe(t,n,{attachStacktrace:e.attachStacktrace});return(0,u.r)(i,{handled:!0,type:"generic"}),i.level=F.Error,r&&r.event_id&&(i.event_id=r.event_id),u.S.resolve(i)}function za(e,t,r,n){r===void 0&&(r=F.Info);var i=n&&n.syntheticException||void 0,a=Ie(t,i,{attachStacktrace:e.attachStacktrace});return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),u.S.resolve(a)}function Oe(e,t,r){r===void 0&&(r={});var n;if((0,u.s)(e)&&e.error){var i=e;return e=i.error,n=Gr(Tt(e)),n}if((0,u.v)(e)||(0,u.w)(e)){var a=e,o=a.name||((0,u.v)(a)?"DOMError":"DOMException"),s=a.message?o+": "+a.message:o;return n=Ie(s,t,r),(0,u.x)(n,s),"code"in a&&(n.tags=b(b({},n.tags),{"DOMException.code":""+a.code})),n}if((0,u.y)(e))return n=Gr(Tt(e)),n;if((0,u.j)(e)||(0,u.o)(e)){var c=e;return n=Ya(c,t,r.rejection),(0,u.r)(n,{synthetic:!0}),n}return n=Ie(e,t,r),(0,u.x)(n,""+e,void 0),(0,u.r)(n,{synthetic:!0}),n}function Ie(e,t,r){r===void 0&&(r={});var n={message:e};if(r.attachStacktrace&&t){var i=Tt(t),a=we(i.stack);n.stacktrace={frames:a}}return n}var C=(0,u.z)(),qt;function Vr(){var e,t;if(qt)return qt;if((0,u.B)(C.fetch))return qt=C.fetch.bind(C);var r=C.document,n=C.fetch;if(typeof((e=r)===null||e===void 0?void 0:e.createElement)=="function")try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i),((t=i.contentWindow)===null||t===void 0?void 0:t.fetch)&&(n=i.contentWindow.fetch),r.head.removeChild(i)}catch(a){u.l.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return qt=n.bind(C)}function Xa(e,t){var r=Object.prototype.toString.call(C&&C.navigator)==="[object Navigator]",n=r&&typeof C.navigator.sendBeacon=="function";if(n){var i=C.navigator.sendBeacon.bind(C.navigator);return i(e,t)}if((0,u.A)()){var a=Vr();return ha(a(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}))}}var Jr={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},ke=(0,u.z)(),Kr=function(){function e(t){var r=this;this.options=t,this._buffer=new ya(30),this._rateLimits={},this._outcomes={},this._api=new Cr(t.dsn,t._metadata,t.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&ke.document&&ke.document.addEventListener("visibilitychange",function(){ke.document.visibilityState==="hidden"&&r._flushOutcomes()})}return e.prototype.sendEvent=function(t){throw new S("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype.recordLostEvent=function(t,r){var n;if(!!this.options.sendClientReports){var i=Jr[r]+":"+t;u.l.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n!=null?n:0)+1)}},e.prototype._flushOutcomes=function(){if(!!this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},!Object.keys(t).length){u.l.log("No outcomes to flush");return}u.l.log(`Flushing outcomes:
`+JSON.stringify(t,null,2));var r=this._api.getEnvelopeEndpointWithUrlEncodedAuth(),n=JSON.stringify({}),i=JSON.stringify({type:"client_report"}),a=JSON.stringify({timestamp:(0,u.e)(),discarded_events:Object.keys(t).map(function(s){var c=$t(s.split(":"),2),l=c[0],f=c[1];return{reason:f,category:l,quantity:t[s]}})}),o=n+`
`+i+`
`+a;try{Xa(r,o)}catch(s){u.l.error(s)}}},e.prototype._handleResponse=function(t){var r=t.requestType,n=t.response,i=t.headers,a=t.resolve,o=t.reject,s=Z.fromHttpCode(n.status),c=this._handleRateLimit(i);if(c&&u.l.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),s===Z.Success){a({status:s});return}o(n)},e.prototype._disabledUntil=function(t){var r=Jr[t];return this._rateLimits[r]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,a,o=Date.now(),s=t["x-sentry-rate-limits"],c=t["retry-after"];if(s){try{for(var l=Pr(s.trim().split(",")),f=l.next();!f.done;f=l.next()){var p=f.value,h=p.split(":",2),v=parseInt(h[0],10),g=(isNaN(v)?60:v)*1e3;try{for(var y=(i=void 0,Pr(h[1].split(";"))),E=y.next();!E.done;E=y.next()){var L=E.value;this._rateLimits[L||"all"]=new Date(o+g)}}catch(O){i={error:O}}finally{try{E&&!E.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}}catch(O){r={error:O}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0}else if(c)return this._rateLimits.all=new Date(o+(0,u.C)(o,c)),!0;return!1},e}(),Ga=function(e){Bt(t,e);function t(r,n){n===void 0&&(n=Vr());var i=e.call(this,r)||this;return i._fetch=n,i}return t.prototype.sendEvent=function(r){return this._sendRequest(Ur(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Hr(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return this.recordLostEvent(u.O.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var a={body:r.body,method:"POST",referrerPolicy:(0,u.D)()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(a,this.options.fetchParameters),this.options.headers!==void 0&&(a.headers=this.options.headers),this._buffer.add(function(){return new u.S(function(o,s){i._fetch(r.url,a).then(function(c){var l={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:c,headers:l,resolve:o,reject:s})}).catch(s)})}).then(void 0,function(o){throw o instanceof S?i.recordLostEvent(u.O.QueueOverflow,r.type):i.recordLostEvent(u.O.NetworkError,r.type),o})},t}(Kr),Va=function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sendEvent=function(r){return this._sendRequest(Ur(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Hr(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?(this.recordLostEvent(u.O.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new u.S(function(a,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var l={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:l,resolve:a,reject:o})}},s.open("POST",r.url);for(var c in i.options.headers)i.options.headers.hasOwnProperty(c)&&s.setRequestHeader(c,i.options.headers[c]);s.send(r.body)})}).then(void 0,function(a){throw a instanceof S?i.recordLostEvent(u.O.QueueOverflow,r.type):i.recordLostEvent(u.O.NetworkError,r.type),a})},t}(Kr);var Ja=function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(r,n){return Wa(this._options,r,n)},t.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=F.Info),za(this._options,r,n,i)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=b(b({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):(0,u.A)()?new Ga(r):new Va(r)},t}(Na),Yt=(0,u.z)(),Re=0;function Qr(){return Re>0}function Ka(){Re+=1,setTimeout(function(){Re-=1})}function dt(e,t,r){if(t===void 0&&(t={}),typeof e!="function")return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var n=function(){var o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var s=o.map(function(c){return dt(c,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(c){throw Ka(),Ea(function(l){l.addEventProcessor(function(f){var p=b({},f);return t.mechanism&&((0,u.x)(p,void 0,void 0),(0,u.r)(p,t.mechanism)),p.extra=b(b({},p.extra),{arguments:o}),p}),ba(c)}),c}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch(o){}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{var a=Object.getOwnPropertyDescriptor(n,"name");a.configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch(o){}return n}function Qa(e){if(e===void 0&&(e={}),!!Yt.document){if(!e.eventId){u.l.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){u.l.error("Missing dsn option in showReportDialog call");return}var t=Yt.document.createElement("script");t.async=!0,t.src=new Cr(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad);var r=Yt.document.head||Yt.document.body;r&&r.appendChild(t)}}var Zr=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=b({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(u.l.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(u.l.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||((0,u.E)({callback:function(r){var n=r.error,i=(0,u.g)(),a=i.getIntegration(e),o=n&&n.__sentry_own_request__===!0;if(!(!a||Qr()||o)){var s=i.getClient(),c=n===void 0&&(0,u.F)(r.msg)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(Oe(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);(0,u.r)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||((0,u.E)({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(l){}var i=(0,u.g)(),a=i.getIntegration(e),o=n&&n.__sentry_own_request__===!0;if(!a||Qr()||o)return!0;var s=i.getClient(),c=(0,u.i)(n)?t._eventFromRejectionWithPrimitive(n):Oe(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=F.Error,(0,u.r)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(t,r,n,i){var a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,u.s)(t)?t.message:t,s,c=o.match(a);c&&(s=c[1],o=c[2]);var l={exception:{values:[{type:s||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(l,r,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype._enhanceEventWithInitialFrame=function(t,r,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var a=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,s=(0,u.F)(r)&&r.length>0?r:(0,u.G)();return t.exception.values[0].stacktrace.frames.length===0&&t.exception.values[0].stacktrace.frames.push({colno:a,filename:s,function:"?",in_app:!0,lineno:o}),t},e.id="GlobalHandlers",e}(),Za=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],tn=function(){function e(t){this.name=e.id,this._options=b({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=(0,u.z)();if(this._options.setTimeout&&(0,u.H)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,u.H)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,u.H)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,u.H)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var r=Array.isArray(this._options.eventTarget)?this._options.eventTarget:Za;r.forEach(this._wrapEventTarget.bind(this))}},e.prototype._wrapTimeFunction=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=dt(i,{mechanism:{data:{function:(0,u.I)(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}},e.prototype._wrapRAF=function(t){return function(r){return t.call(this,dt(r,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,u.I)(t)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(t){var r=(0,u.z)(),n=r[t]&&r[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||((0,u.H)(n,"addEventListener",function(i){return function(a,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=dt(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:(0,u.I)(o),target:t},handled:!0,type:"instrument"}}))}catch(c){}return i.call(this,a,dt(o,{mechanism:{data:{function:"addEventListener",handler:(0,u.I)(o),target:t},handled:!0,type:"instrument"}}),s)}}),(0,u.H)(n,"removeEventListener",function(i){return function(a,o,s){var c,l=o;try{var f=(c=l)===null||c===void 0?void 0:c.__sentry_wrapped__;f&&i.call(this,a,f,s)}catch(p){}return i.call(this,a,l,s)}}))},e.prototype._wrapXHR=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,a=["onload","onerror","onprogress","onreadystatechange"];return a.forEach(function(o){o in i&&typeof i[o]=="function"&&(0,u.H)(i,o,function(s){var c={mechanism:{data:{function:o,handler:(0,u.I)(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(c.mechanism.data.handler=(0,u.I)(s.__sentry_original__)),dt(s,c)})}),t.apply(this,r)}},e.id="TryCatch",e}(),xe=function(){function e(t){this.name=e.id,this._options=b({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){!this._options.sentry||(0,u.g)().addBreadcrumb({category:"sentry."+(t.type==="transaction"?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,u.k)(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this._options.console&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._consoleBreadcrumb.apply(t,Q(r))},type:"console"}),this._options.dom&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._domBreadcrumb.apply(t,Q(r))},type:"dom"}),this._options.xhr&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._xhrBreadcrumb.apply(t,Q(r))},type:"xhr"}),this._options.fetch&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._fetchBreadcrumb.apply(t,Q(r))},type:"fetch"}),this._options.history&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._historyBreadcrumb.apply(t,Q(r))},type:"history"})},e.prototype._consoleBreadcrumb=function(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:F.fromString(t.level),message:(0,u.J)(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+((0,u.J)(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;(0,u.g)().addBreadcrumb(r,{input:t.args,level:t.level})},e.prototype._domBreadcrumb=function(t){var r,n=typeof this._options.dom=="object"?this._options.dom.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{r=t.event.target?(0,u.K)(t.event.target,n):(0,u.K)(t.event,n)}catch(i){r="<unknown>"}r.length!==0&&(0,u.g)().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})},e.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},n=r.method,i=r.url,a=r.status_code,o=r.body;(0,u.g)().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:o});return}},e.prototype._fetchBreadcrumb=function(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?(0,u.g)().addBreadcrumb({category:"fetch",data:t.fetchData,level:F.Error,type:"http"},{data:t.error,input:t.args}):(0,u.g)().addBreadcrumb({category:"fetch",data:b(b({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))},e.prototype._historyBreadcrumb=function(t){var r=(0,u.z)(),n=t.from,i=t.to,a=(0,u.L)(r.location.href),o=(0,u.L)(n),s=(0,u.L)(i);o.path||(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(n=o.relative),(0,u.g)().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}(),to="cause",eo=5,en=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||to,this._limit=t.limit||eo}return e.prototype.setupOnce=function(){(0,u.b)(function(t,r){var n=(0,u.g)().getIntegration(e);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(t,r):t}return t})},e.prototype._handler=function(t,r){if(!t.exception||!t.exception.values||!r||!(0,u.M)(r.originalException,Error))return t;var n=this._walkErrorTree(r.originalException,this._key);return t.exception.values=Q(n,t.exception.values),t},e.prototype._walkErrorTree=function(t,r,n){if(n===void 0&&(n=[]),!(0,u.M)(t[r],Error)||n.length+1>=this._limit)return n;var i=Tt(t[r]),a=Xr(i);return this._walkErrorTree(t[r],r,Q([a],n))},e.id="LinkedErrors",e}(),pt=(0,u.z)(),rn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,u.b)(function(t){var r,n,i;if((0,u.g)().getIntegration(e)){if(!pt.navigator&&!pt.location&&!pt.document)return t;var a=((r=t.request)===null||r===void 0?void 0:r.url)||((n=pt.location)===null||n===void 0?void 0:n.href),o=(pt.document||{}).referrer,s=(pt.navigator||{}).userAgent,c=b(b(b({},(i=t.request)===null||i===void 0?void 0:i.headers),o&&{Referer:o}),s&&{"User-Agent":s}),l=b(b({},a&&{url:a}),{headers:c});return b(b({},t),{request:l})}return t})},e.id="UserAgent",e}(),nn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(n){var i=r().getIntegration(e);if(i){try{if(i._shouldDropEvent(n,i._previousEvent))return u.l.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(a){return i._previousEvent=n}return i._previousEvent=n}return n})},e.prototype._shouldDropEvent=function(t,r){return r?!!(this._isSameMessageEvent(t,r)||this._isSameExceptionEvent(t,r)):!1},e.prototype._isSameMessageEvent=function(t,r){var n=t.message,i=r.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._getFramesFromEvent=function(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames},e.prototype._isSameStacktrace=function(t,r){var n=this._getFramesFromEvent(t),i=this._getFramesFromEvent(r);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(var a=0;a<i.length;a++){var o=i[a],s=n[a];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},e.prototype._isSameExceptionEvent=function(t,r){var n=this._getExceptionFromEvent(r),i=this._getExceptionFromEvent(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._isSameFingerprint=function(t,r){var n=t.fingerprint,i=r.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch(a){return!1}},e.id="Dedupe",e}(),ro=Object.freeze({__proto__:null,GlobalHandlers:Zr,TryCatch:tn,Breadcrumbs:xe,LinkedErrors:en,UserAgent:rn,Dedupe:nn}),no=function(e){Bt(t,e);function t(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Br}],version:Br},n=e.call(this,Ja,r)||this,n}return t.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=(0,u.z)().document;if(!!n){if(!this._isEnabled()){u.l.error("Trying to call showReportDialog with Sentry Client disabled");return}Qa(b(b({},r),{dsn:r.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._sendEvent=function(r){var n=this.getIntegration(xe);n&&n.addSentryBreadcrumb(r),e.prototype._sendEvent.call(this,r)},t}(Ra),io=[new Yr,new qr,new tn,new xe,new Zr,new en,new nn,new rn];function an(e){if(e===void 0&&(e={}),e.defaultIntegrations===void 0&&(e.defaultIntegrations=io),e.release===void 0){var t=(0,u.z)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0),Aa(no,e),e.autoSessionTracking&&ao()}function ao(){var e=(0,u.z)(),t=e.document;if(typeof t=="undefined"){u.l.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=(0,u.g)();typeof r.startSession!="function"||typeof r.captureSession!="function"||(r.startSession({ignoreDuration:!0}),r.captureSession(),(0,u.E)({callback:function(n){var i=n.from,a=n.to;i===void 0||i===a||(r.startSession({ignoreDuration:!0}),r.captureSession())},type:"history"}))}var on={},Ne=(0,u.z)();Ne.Sentry&&Ne.Sentry.Integrations&&(on=Ne.Sentry.Integrations);var js=b(b(b({},on),ja),ro);var _n=It(mn());an({dsn:"https://cd8164655d204832bba96a931a6a018e@o483393.ingest.sentry.io/6010247",integrations:[new _n.Integrations.BrowserTracing],tracesSampleRate:1});document.body.addEventListener("click",e=>{let t=e.target.nodeName!=="A"?e.target.closest("a"):e.target;if(t){let r=t.getAttribute("href");r&&r[0]==="/"&&(e.preventDefault(),setTimeout(()=>{var a,o;let n=(a=t.closest(".person"))==null?void 0:a.classList.contains("active");if(((o=t.closest(".person"))==null?void 0:o.classList.contains("person"))&&n){let s=[...document.querySelectorAll(".column")],c=s.indexOf(t.closest(".column"));if(c===1)history.pushState(null,null,r),A();else for(let[l,f]of s.entries())l>c&&(f.addEventListener("animationend",()=>{history.pushState(null,null,r),A()},{once:!0}),f.classList.add("prepare-removal"))}else history.pushState(null,null,r),A()}))}});window.addEventListener("popstate",e=>{A()});var os=e=>{let t=location.pathname.substr(1).split(",");return t.splice(e),`/${t.join(",")}`},ss=(e,t)=>{let r=location.pathname.substr(1).split(",");return t<0?r=[e]:(r.splice(t),r[t]=e),`/${r.join(",")}`},us=(e,t=0,r)=>{let n=yn(e.id,r);return k`
        <div 
            class=${`person ${n?"active":""}`} 
            style=${`--index: ${t}`}
            data-id=${e.id}>
        
                ${kt(e.image,e.label)}

                <button class="zoom" onclick=${()=>{location.hash=e.id,A()}}></button>

                <a class="name" href=${n?os(r):ss(e.id,r)}>
                    ${e.birth?k`<span class="dates">${e.birth.substr(0,4)} ${e.death?k` / ${e.death.substr(0,4)}`:null}</span>`:null}
                    <span>${e.label}</span>
                </a>

                <span class="action-button"></span>
        
        </div>
    `},bn=()=>decodeURI(location.pathname).substr(1).split(",").filter(Boolean),yn=(e,t)=>bn()[t]===e,Me=[],xt=[],Rt=e=>{xt=e},En=e=>{var n;let t=(n=e==null?void 0:e.match(/\d{4}/g).map(i=>parseInt(i)))!=null?n:[],r=Math.min(...t);return r!==Infinity?r:null},cs=async e=>{let t=await Ze(e.id);for(let r of t)r.cleanedDate=En(r.date);return t.sort((r,n)=>r.cleanedDate-n.cleanedDate),t.length?k`
    <ul class="works item-list">
        <h3>Works:</h3>
        ${t.map(r=>k`<li><a class="work item" href=${`#${r.id}`}>${r.label} ${r.date?k`(${En(r.date)})`:null}</a></li>`)}
    </ul>
    `:null},ls=async e=>{let t=await tr(e.id);return t.length?k`
    <ul class="interests item-list">
        <h3>Interests:</h3>
        ${t.map(r=>k`<li><a class="interest item" href=${`#${r.id}`}>${r.label}</a></li>`)}
    </ul>
    `:null},Kt=new Map,Tn=(e,t)=>(Kt.has(e)||Kt.set(e,t))&&Kt.get(e),fs=async e=>{let t=await er(e.id);return t.length?k`
    <ul class="ideas item-list">
        <h3>Ideas:</h3>
        ${t.map(r=>k`<li><a class="idea item" href=${`#${r.id}`}>${r.label}</a></li>`)}
    </ul>
    `:null};function ds(e=window){let t=0,r=e.scrollX,n=e.scrollY;return new Promise(i=>{function a(o){o>=500||o-t>20?i(null):((e.scrollX!=r||e.scrollY!=n)&&(t=o,r=e.scrollX,n=e.scrollY),requestAnimationFrame(a.bind(null,o+1)))}a(0)})}var He=async(e,t,r,n)=>{let i=Tn(e+":"+r,{people:[],isLoading:!0});i.isLoading&&setTimeout(()=>{t(e).then(o=>{i.people=o,i.isLoading=!1,A()})});let a=i.people.find(o=>yn(o.id,r));return k`
    <div ref=${o=>Me.push(o)} class=${`column ${r===0?"selected":""} ${a?"active":"is-loading"}`}>
        <h3 class="column-title">${n}</h3>

        <div class="inner">
            ${i.people.map((o,s)=>us(o,s,r))}

            <div class="scroll-maker"></div>
        </div>

        ${a?k`
        <div class="item-lists">
            ${cs(a)}
            ${ls(a)}
            ${fs(a)}
        </div>
        `:null}

    </div>
    `};function Sn(e,t,r={leading:!0,trailing:!0}){var n,i,a,o=null,s=0,c=function(){s=r.leading===!1?0:Date.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var l=Date.now();!s&&r.leading===!1&&(s=l);var f=t-(l-s);return n=this,i=arguments,f<=0||f>t?(o&&(clearTimeout(o),o=null),s=l,a=e.apply(n,i),o||(n=i=null)):!o&&r.trailing!==!1&&(o=setTimeout(c,f)),a}}var ps=()=>{location.hash="",A()},hs=async e=>{let t=await Promise.all(e.map(n=>ee(n))),r=null;if(location.hash){let n=decodeURI(location.hash).substr(1);r=n?await ee(n,"en"):null}return document.body.dataset.selectedPerson=(!!r).toString(),k`
        ${r?k`
        <div class="selected-person">
            <h1 class="title">${r.label} <button class="close" onclick=${ps}></button></h1>
            <div class="abstract">
                ${r.image?k`<img class="image" src=${`https://images.weserv.nl/?url=${r.image}&w=300`} />`:null}
                ${r.abstract}
            </div>
        </div>        
        `:null}

        <div class="people">
            ${He(e[0],Qe,-1,`Influencers of ${t[0].label}`)}
            ${He(e[0],async()=>[t[0]],0,"Your starting selection:")}
            ${e.map((n,i)=>He(n,Ke,i+1,`Influenced by ${t[i].label}`))}
        </div>
    `},vs=new Date().getTime(),A=Sn(async()=>{let e=bn();try{await gn(document.body,e.length?hs(e):Xe())}catch(t){t.message==="NetworkError when attempting to fetch resource."?gn(document.body,k`<h1 class="dbpedia-offline">Unfortunatly DBpedia is down.<br>Please come back later.</h1>`):console.info(t.message)}if(e.length){let t=new Date().getTime()-vs;for(let[r,n]of Me.entries())n.classList.contains("active")?(n.querySelector(".person.active").scrollIntoView({behavior:t<2e3?"auto":"smooth"}),ds(n).then(()=>{ar(n)})):or(n);setTimeout(()=>{Me.at(-1).scrollIntoView({behavior:"smooth"})},1e3)}},200);A();export{A as drawApp,Tn as getState,xt as suggestions,Sn as throttle,Rt as updateSuggestions};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=app.js.map
